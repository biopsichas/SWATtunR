[{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"process-simulation-results","dir":"Articles","previous_headings":"","what":"5. Process simulation results","title":"Analyzing Results","text":"loading simulation results, need define paths simulation (done yet) observation data, well time periods analysis. following code snippet shows set parameters. load_swat_run function SWATrunR package used load recent simulation results defined simulation folder. third step involves preprocessing simulation data filter relevant dates, prepare concentration values, calculate flow duration curves (FDCs) needed. filter_period() function used restrict simulation results defined periods, calc_fdc() function calculates flow duration curves simulated discharges.","code":"# Parameter definition ---------------------------------------------------- # Paths to simulation and observation data # E.g. load the simulations with the last time stamp, if default # save_file names in simulation runs is used. sims <- list.files('./simulation/', pattern = '[0-9]{12}') sim_path <- paste0('./simulation/', sims[length(sims)])  # E.g. path to discharge observations flow_path <- './observation/q.csv' # E.g. path to in-stream nitrate observations ntot_path <- './observation/ntot.csv'  # Define time period to analyze (E.g. calibration or validation period) # Periods for different variables can be different, but calibration and # validation should not be mixed. # Discharge period_q <- c('2006-01-01', '2012-12-31') # Water quality period_wq <- c('2006-01-01', '2012-12-31') # Load and prepare simulation results ------------------------------------- sim <- load_swat_run(sim_path) # Check for failed runs failed_runs(sim) # Extract parameter set par_vals <- sim$parameter$values  # Extract relevant output variables # E.g. discharge flow_sim <- filter_period(sim$simulation$flo_day, period_q) # E.g. N load components no3_sim  <- filter_period(sim$simulation$no3_day, period_wq) nh3_sim  <- filter_period(sim$simulation$nh3_day, period_wq) no2_sim  <- filter_period(sim$simulation$no2_day, period_wq) orgn_sim <- filter_period(sim$simulation$orgn_day, period_wq)  # E.g. if FDC segments should be evaluated, calculate the # FDC for the simulated discharges flow_fdc_sim <- calc_fdc(flow_sim)  # Calculate total N from the four N fractions ntot_sim <- sum_variables(no3_sim, nh3_sim, no2_sim, orgn_sim)  # Convert loads to concentrations ntot_conc_sim <- load_to_conc(load = ntot_sim, flow = flow_sim,                               load_unit = 'kg day-1', flow_unit = 'm3 s-1',                               out_unit  = 'mg L-1')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"load-and-process-observation-data","dir":"Articles","previous_headings":"","what":"6. Load and process observation data","title":"Analyzing Results","text":"Next, need load observation data discharge , required, water quality. filtering preprocessing steps might necessary. However, case observed data, may need calculate loads concentrations. needed, conc_to_load() function available purpose.","code":"# Load and prepare observations ------------------------------------------ # E.g. discharge observations flow_obs <- read_csv(flow_path) %>%   filter_period(., period_q) # E.g. Ntot concentration observations ntot_conc_obs <- read_csv(ntot_path) %>%   filter_period(., period_q)  # E.g. if FDC segments should be evaluated, calculate the # FDC for the simulated discharges flow_fdc_obs <- calc_fdc(flow_obs)  # E.g. if calibration should be done with loads and not concentrations # convert observed concentrations to loads ntot_obs <- conc_to_load(conc = ntot_conc_obs, flow = flow_obs,                          conc_unit = 'mg L-1', flow_unit = 'm3 s-1',                          out_unit  = 'kg day-1')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"calculate-goodness-of-fit-gof-values","dir":"Articles","previous_headings":"","what":"7. Calculate goodness-of-fit (GOF) values","title":"Analyzing Results","text":"loading preprocessing simulation observation data, can calculate various goodness--fit (GOF) metrics evaluate model performance. calc_gof() function allows compute indices Nash–Sutcliffe Efficiency (NSE), Kling–Gupta Efficiency (KGE), percent bias (PBIAS), many others available hydroGOF package discharge water quality data. Evaluating Ratio Root Mean Square Error Standard Deviation Observed Data (RSR) different flow conditions can improve hydrological model performance, described Pfannerstill, Guse, Fohrer (2014). can done using calc_fdc_rsr() function, computes RSR values different segments flow duration curve. results can combined GOF metrics using provided code snippet.","code":"# Calculate goodness-of-fit values ---------------------------------------- # E.g. to calculate typical indices such as NSE, KGE, pbias, etc. for discharge gof_flow <- calc_gof(sim = flow_sim, obs = flow_obs,                      funs = list(nse_q = NSE, kge_q = KGE, pb_q = pbias,                                  mae_q = mae)) # Calculate RSR for different discharge FDC sections  gof_fdc <- calc_fdc_rsr(fdc_sim = flow_fdc_sim, fdc_obs = flow_fdc_obs,                         quantile_splits = c(5, 20, 70, 95))  # Calculate goodness-of-fit for Nitrogen gof_ntot <- calc_gof(sim = ntot_sim, obs = ntot_obs,                      funs = list(nse_n = NSE, kge_n = KGE, pb_n = pbias,                                  mae_n = mae))  # E.g. if all calculated GOF tables should be joined to one table gof_all <- list(gof_flow, gof_fdc, gof_ntot) %>%   reduce(., left_join, by = 'run')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"plot-evaluation-results","dir":"Articles","previous_headings":"","what":"8. Plot evaluation results","title":"Analyzing Results","text":"sevelar ways SWATtunR helps visualize results goodness--fit calculations.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"parameter-identifiability","dir":"Articles","previous_headings":"8. Plot evaluation results","what":"Parameter identifiability","title":"Analyzing Results","text":"useful approach visually analyzing goodness--fit create parameter identifiability plot using plot_parameter_identifiability() function. plot prepared based methodology provided article Guse et al. (2020). plot shows ranges parameter, perform better certain performance metric. run_fraction defines fraction simulations considered analysis (1000 runs value maybe lower 0.2, large values also make much sense). 5000 runs 0.1 good value. type plot allows assessment multiple performance criteria simultaneously. recommended examine goodness--fit indices different variables time identify potential trade-offs parameter ranges. However, including many indices single plot can make interpretation difficult. Therefore, advisable select subset key indices plotting.","code":"gof_sel <- select(gof_all, run, nse_q, pb_q, p_0_5, p_20_70, p_70_95, nse_n, pb_n)  # It is always good to get a general overview of the summary statistics of the # calculated GOF indices. summary(gof_sel)  plot_parameter_identifiability(parameters = par_vals,                                objectives = gof_sel,                                run_fraction = .2)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"dotty-plots","dir":"Articles","previous_headings":"8. Plot evaluation results","what":"Dotty plots","title":"Analyzing Results","text":"Another common approach analyzing sensitivity goodness--fit parameter changes use dotty plots applying plot_dotty() function. plots visualize performance metrics vary different parameter values. single dotty plot can provide insight, comprehensive evaluation multiple parameters often requires assessment several dotty plots effectively guide updates parameter ranges.  plot_dotty() function highly customizable, allowing assessment different perspectives, includes following arguments: par: data frame model parameter values simulation. var: model performance result vector list vectors plotted parameter values. y_label: label vector labels y-axis. Default 'y'. n_col: number columns facet grid. Default 3. y_lim: defines limits y-axis. Default NULL. y_inter: Y-axis intercept value. Default NULL. trend: logical, indicating whether add trend line. Default FALSE. run_ids: numeric vector run IDs highlighted plot. low_up: logical, TRUE whole possible parameter range used x-axis. Default FALSE. Example shows use plot_dotty() function visualize performance multiple variables trends added.  model performance needs improved—example, parameter identifiability plot clearly indicates certain parameter ranges adjusted—recommended return step 2. stage, update parameter boundaries, run simulations using new parameter combinations, analyze results using script.","code":"plot_dotty(par = par_vals, gof_all$nse_q,  y_label = \"NSE value\", n_col = 4) # Example of usage: plot_dotty(par = par_vals,             var = list(gof_all$$flo_day_52$nse,                       gof_all$no3_day_52_conc$nse,                       gof_all$gwd$nse),             y_label =  c('Flow at 52r (m3/s)',                          \"Nitrate at 52r (mgN/l)\",                          \"Groundwater depth (m)\"),            trend = TRUE)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"one-at-a-time-plot","dir":"Articles","previous_headings":"8. Plot evaluation results","what":"One-At-A-Time plot","title":"Analyzing Results","text":"perform OAT (One---Time) analysis used visualize sensitivity model parameters. function plot_oat() allows plot results OAT analysis. requires parameter set around OAT analysis performed, well boundaries parameters. sampling OAT us done using sample_oat() function. plot_oat() function generate plot showing model performance changes varying one parameter time keeping others fixed.","code":"# Example of usage: # If you want to perform an OAT analysis # Select the parameter combination around which you want to do the OAT analysis par_center_id <- 2  # Extract the center parameter set and assign again the \"full\" names to be used # with SWATrunR par_center <- sim$parameter$values[par_center_id, ] %>%    set_names(sim$parameter$definition$full_name)  # You can define your own parameter boundaries for the selected parameters # Here a way how you can quickly extract the boundaries from the last simulation par_bnd <- sim$parameter$values %>%    map(., ~ c(min(.x), max(.x))) %>%    map(., ~ round(.x, 3)) %>%    bind_cols(.) %>%    set_names(sim$parameter$definition$full_name)  # Sample the OAT parameter set and run the simulations par_oat <- sample_oat(par = par_bnd, par_center = par_center)  par_oat <- filter(par_oat, parameter %in% c('center', 'bf_max.aqu | change = absval'))  sim_oat <- run_swatplus(project_path = model_path,                         output = list(                           flo_day = define_output(file = 'channel_sd_day',                                                   variable = 'flo_out',                                                   unit = cha_ids)),                         parameter = par_oat[,3:ncol(par_oat)],                         n_thread = n_cores) # save_file = 'sim_oat')  # To visualize the OAT runs e.g. for the parameter surlag: plot_oat(sim = sim_oat, obs = obs, variable = 'flo_day')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"rank-results-and-select-parameter-combinations","dir":"Articles","previous_headings":"","what":"9. Rank results and select parameter combinations","title":"Analyzing Results","text":"model performance acceptable, two approaches selecting suitable parameter sets. One common method define thresholds goodness--fit indices; another rank model runs based performance. two examples identifying ensemble acceptable parameter combinations.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"ranking-based-selection","dir":"Articles","previous_headings":"9. Rank results and select parameter combinations","what":"Ranking based selection","title":"Analyzing Results","text":"Ranking can performed using two different methods available function rank_gof(). first method, specified type = ‘rank’, uses absolute ranks based goodness--fit values. second method, type = ‘norm’, uses normalized goodness--fit values, accounts differences performance across indices provides balanced comparison.","code":"# Careful here that ranking is always done from smallest to largest value.  # Therefore the indices must be modified before. gof_adj <- gof_sel %>%   mutate(nse_q = - nse_q,          pb_q = - abs(pb_q),          nse_n = - nse_n,          pb_n = - abs(pb_n))  gof_rank <- rank_gof(gof_adj, type = 'norm') # Here just the first 10 runs of the ranked GOF indices are selected. run_sel <- gof_rank$run[1:10] run_ids <- run_to_id(run_sel)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"threshold-based-selection","dir":"Articles","previous_headings":"9. Rank results and select parameter combinations","what":"Threshold based selection","title":"Analyzing Results","text":"Another approach select parameter sets based thresholds goodness--fit indices. method allows identification parameter sets meet specific performance criteria.","code":"# Here e.g. for NSE and pbias for discharge and N loads. run_sel <- which(gof_sel$nse_q > 0.5 & gof_sel$nse_n > 0.7 &                  abs(gof_sel$pb_q) < 5 & abs(gof_sel$pb_n) < 20) run_ids <- run_to_id(run_sel)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"view-simulated-time-series","dir":"Articles","previous_headings":"","what":"10. View simulated time series","title":"Analyzing Results","text":"Visualizing simulated time series essential step evaluating strengths weaknesses model simulations. helps identify well model captures key hydrological dynamics, peak flows, low flows, seasonal trends. also allows detection systematic errors biases simulations. SWATtunR package provides several interactive plotting functions make easy explore interpret simulated data. tools support detailed intuitive assessment model performance time, especially compared directly observed data.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"interactive-plotting","dir":"Articles","previous_headings":"10. View simulated time series","what":"Interactive plotting","title":"Analyzing Results","text":"view_timeseries() function powerful tool interactively visualizing simulated time series data. allows users zoom select specific time periods detailed analysis.","code":"##Simple example view_timeseries(flow_sim, flow_obs, run_ids = run_ids)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"static-plotting","dir":"Articles","previous_headings":"10. View simulated time series","what":"Static plotting","title":"Analyzing Results","text":"plot_timeseries() function provides static plot simulated time series, useful generating publication-quality figures quick visual assessments.  results satisfactory, can proceed next step saving parameters writing calibration.cal file. Otherwise , may need adjust parameter ranges returning step 2 repeat process acceptable results achieved.","code":"plot_timeseries(flow_sim, flow_obs, run_ids = 1)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-analyze.html","id":"save-parameters-andor-write-calibration-cal","dir":"Articles","previous_headings":"","what":"11. Save parameters and/or write ‘calibration.cal’","title":"Analyzing Results","text":"final step write calibration.cal file write_cal_file() function, supplied model run already calibrated validated model. Please don’t forget check master file file.cio, connection ‘calibration.cal’ line 22. following code snippet shows write ‘calibration.cal’ file.","code":"## Add parameter change definitions to the parameter change data frame colnames(par_vals) <- sim$parameter$definition$full_name  ## Write multiple or a single 'calibration.cal' file write_cal_file(par = par_vals,                model_path = model_path,                write_path = 'my_cal_folder',                i_run = c(1, 2, 5)) ## For single i_run = 1"},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-out.html","id":"define-model-outputs-to-calibrate","dir":"Articles","previous_headings":"","what":"3. Define model outputs to calibrate","title":"Output Definition","text":"following section provides suggested list SWAT+ outputs calibrated. outputs grouped according variables. Users can comment outputs relevant calibration objectives. define_output function SWATrunR package used specify output files, variables, units saved.","code":"# Parameter definition ---------------------------------------------------- # Channel IDs for which simulation outputs are returned. cha_ids <- 1 # HRU IDs for which simulation outputs are returned. E.g. all HRUs hru_ids <- 1:134  # Output definition ------------------------------------------------------- outputs <- list(   # Daily discharge   flo_day = define_output(file = 'channel_sd_day',                           variable = 'flo_out',                           unit = cha_ids)   # Daily in-stream Nitrogen   no3_day = define_output(file = 'channel_sd_day',                           variable = 'no3_out',                           unit = cha_ids),   orgn_day = define_output(file = 'channel_sd_day',                            variable = 'orgn_out',                            unit = cha_ids),   nh3_day = define_output(file = 'channel_sd_day',                           variable = 'nh3_out',                           unit = cha_ids),   no2_day = define_output(file = 'channel_sd_day',                           variable = 'no2_out',                           unit = cha_ids),   # Daily in-stream phosphorous   solp_day = define_output(file = 'channel_sd_day',                           variable = 'solp_out',                           unit = cha_ids),   sedp_day = define_output(file = 'channel_sd_day',                            variable = 'sedp_out',                            unit = cha_ids),   # Daily in-stream sediment loads   sed_day = define_output(file = 'channel_sd_day',                           variable = 'sed_out',                           unit = cha_ids),   # Average annual sediment yields for all HRUs   sedyld = define_output(file = 'hru_ls_aa',                          variable = 'sedyld',                          unit = hru_ids) )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-par.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Parameter Definition","text":"SWATrunR package provides framework set tools hard calibration SWAT models. core workflow generated initialize_hardcal() function. function creates four R scripts folder named workflow, dividing process five distinct steps facilitate calibration avoid lengthy cumbersome script. 01_define_parameters.R – defines parameters calibrated. 02_define_output.R – specifies model outputs saved (calibrated). 03_run_swat.R – performs SWAT model simulations. 04_analyze_results.R – analyzes simulation results compares observations. 05_validate.R - validates calibrated model independent dataset. workflow fully customizable suit specific calibration needs. script contains necessary guidance form code comments. web page provides overview workflow individual steps.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-par.html","id":"workflow-steps","dir":"Articles","previous_headings":"","what":"Workflow Steps","title":"Parameter Definition","text":"Full workflow divided 11 steps. 1-2 steps 01_define_parameters.R, 3 - 02_define_output.R, 4 - 03_run_swat.R rest 04_analyze_results.R. 05_validate.R script provides simple example validation 3 additional steps. first two steps described page, rest next pages. page corresponds 01_define_parameters.R script.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-par.html","id":"load-packages-and-settings","dir":"Articles","previous_headings":"","what":"1. Load packages and settings","title":"Parameter Definition","text":"Loading required packages settings first step workflow.","code":"# Load required R packages ------------------------------------------------ library(SWATtunR) library(SWATrunR) library(hydroGOF) library(tidyverse) library(tibble) library(purrr) library(lhs)  # Parameter definition ---------------------------------------------------- # Number parameter combinations n_combinations <- 1000  # Path to the SWAT+ project folder. model_path <- 'test/swatplus_rev60_demo'"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-par.html","id":"hc_step2","dir":"Articles","previous_headings":"","what":"2. Define parameters","title":"Parameter Definition","text":"following section provides suggested list range SWAT+ parameters calibrating different output variables. Parameters roughly grouped according processes strongly influence. parameter groups optional may included excluded depending specific objectives calibration.","code":"parameter_boundaries <- tibble(   # snow (optional - use if average snow fall to precipitation ratio is   # higher than 5%)   'snomelt_tmp.hru | change = absval' = c(-1.5, 1.5),   'snofall_tmp.hru | change = absval' = c(-1.5, 1.5),   'snomelt_lag.hru | change = absval' = c(0, 1),   'snomelt_min.hru | change = absval' = c(1, 3.5),   'snomelt_max.hru | change = absval' = c(3.5, 7),   # ET (note: it is suggested that a narrow range for esco selected in soft   # calibration of water balance is used instead of the wide (0,1) range)   'esco.hru | change = absval' = c(0.05, 1),   'epco.hru | change = absval' = c(0.05, 1),   'awc.sol | change = relchg' = c(-0.25, 0.25),   #surface runoff   'cn2.hru | change = relchg' = c(-0.15, 0.10),   'cn3_swf.hru | change = absval' = c(0, 1), # Normalized range. Will be updated below   'ovn.hru | change  = relchg ' = c(-0.25, 0.25),   'surlag.bsn | change = absval' = c(0.005, 4),   # lateral flow (optional - use if lateral flow constitutes at least 5% of   # total water yield)   'lat_len.hru | change = abschg' = c(-20, 20),   'latq_co.hru | change = absval' = c(0, 1), # Normalized range. Will be updated below   'bd.sol | change = relchg' = c(-0.35, 0.35),   'k.sol | change = relchg' = c(-0.5, 2),   # tile flow (optional - use if tile flow constitutes at least 5% of total   # water yield; note: tile_lag and tile_dtime should be active only if   # tile_drain is set to 0 in codes.bsn file))   'tile_dep.hru | change = relchg' = c(0.1, 0.3),   'tile_lag.hru | change = absval' = c(20, 25),   'tile_dtime.hru | change = absval' = c(50, 100),   # percolation/aquifer   'perco.hru | change = absval' = c(0, 1), # Normalized range. Will be updated below   'flo_min.aqu | change = abschg' = c(-2, 2),   'revap_co.aqu | change = absval' = c(0.02, 0.2),   'revap_min.aqu | change = abschg' = c(-2, 2),   'alpha.aqu | change = absval' = c(0.001, 0.1),   'sp_yld.aqu | change = absval' = c(0.001, 0.05),   'bf_max.aqu | change = absval' = c(0.5, 2),   # channel routing   'chn.rte | change = absval' = c(0.02, 0.3),   'chs.rte | change = relchg' = c(-0.2, 0.2),   # sediment routing   'cov.rte | change = absval' = c(0.005, 1),   'bedldcoef.rte | change = absval' = c(0.01, 1),   'cherod.rte | change = absval' = c(0.05, 1),   # nitrogen parameters from here   \"n_updis.bsn | change = absval\" = c(10, 80),   \"nperco.bsn | change = absval\" = c(0.5, 1),   \"sdnco.bsn | change = absval\" = c(0.75, 0.9),   \"hlife_n.aqu | change = absval\" = c(0, 200),   \"no3_init.aqu | change = absval\" = c(0, 30),   \"cmn.bsn | change = absval\" = c(0.001, 0.0013),   \"rsdco.bsn | change = absval\" = c(0.02, 0.1)   )  # Sample parameter combinations ------------------------------------------- parameter_set <- sample_lhs(parameter_boundaries, n_combinations)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-par.html","id":"applying-different-ranges-to-cn3_swf-latq_co-and-perco","dir":"Articles","previous_headings":"2. Define parameters","what":"Applying different ranges to cn3_swf, latq_co, and perco","title":"Parameter Definition","text":"step optional removed wish apply different parameter ranges based initial values parameters cn3_swf, latq_co, perco. default, SWAT+ model assigns different initial values parameters setup, based runoff leaching potentials respective HRUs. preserve spatial variability, recommended calibrate parameters using different ranges correspond initial values. following routine ensures generating multiple parameter columns single sampled column. Note parameter must sampled earlier within range 0 1, can now translated different sub-ranges. sub-ranges can also narrowed part calibration process. step, HRUs SWAT+ model setup separated groups based initial values perco, cn3_swf, latq_co.","code":"# Separate the HRUs of the SWAT+ model setup into groups based on their initial # values of e.g. perco, cn3_swf, and latq_co perco_groups <- group_hydr_values('perco',   model_path) cn3_groups   <- group_hydr_values('cn3_swf', model_path) latq_groups  <- group_hydr_values('latq_co', model_path)  # Define parameter boundaries in which the parameter values should vary for # the different initial values. # The list can be a named list, the names defined here will be added to the # parameter names for differentiation. If unnamed the indexes _1, _2, and _3 # will be added to the parameter names instead. # # Only provide the same numbers of ranges as numbers of individual parameters # identified in the lines 105 to 107. Otherwise an error will occur in the # following routine. perco_bound <- list(low = c(0.05, 0.30), mod = c(0.30, 0.60), high = c(0.50, 0.95)) cn3_bound   <- list(low = c(0.00, 0.30), mod = c(0.15, 0.45), high = c(0.50, 0.95)) latq_bound  <- list(low = c(0.01, 0.30), mod = c(0.10, 0.40), high = c(0.50, 0.90))  # Add the additional parameter columns to the parameter table and remove the # column with the respective normalized parameter values. parameter_set <- translate_to_boundaries(par_tbl = parameter_set,                                          par_name = 'perco.hru | change = absval',                                          par_bound = perco_bound,                                          par_group = perco_groups)  parameter_set <- translate_to_boundaries(par_tbl = parameter_set,                                          par_name = 'cn3_swf.hru | change = absval',                                          par_bound = cn3_bound,                                          par_group = cn3_groups)  parameter_set <- translate_to_boundaries(par_tbl = parameter_set,                                          par_name = 'latq_co.hru | change = absval',                                          par_bound = latq_bound,                                          par_group = latq_groups)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-run.html","id":"perform-swat-simulation-runs","dir":"Articles","previous_headings":"","what":"4. Perform SWAT simulation runs","title":"Performing Runs","text":"Firstly, following settings modified based user’s requirements. following section runs SWAT+ model using defined outputs parameters. run_swatplus function SWATrunR package used execute model runs.","code":"# Parameter definition ---------------------------------------------------- # Path to the SWAT+ project folder. model_path <- 'test/swatplus_rev60_demo'  # Start date of simulation period start_date <- '2003-01-01' # End date of simulation period end_date <- '2012-12-31' # Start date for printing simulation outputs start_date_print <- '2006-01-01'  # Number of cores used for parallel simulation runs n_cores <- NULL  # Name of the folder where simulation results will be saved incrementally. # To continue writing to existing saved runs, replace by the name of the # existing save_file. save_file_name <- paste0(format(Sys.time(), '%Y%m%d%H%M'), '_sim')  # Path where the simulation results are saved. # Default the simulations are saved in the calibration project # in the sub-folder /simulation save_path <- './simulation' # Perform simulation runs run_swatplus(project_path     = model_path,              output           = outputs,              parameter        = parameter_set,              start_date       = start_date,              end_date         = end_date,              start_date_print = start_date_print,              n_thread         = n_cores,              save_path        = save_path,              save_file        = save_file_name,              return_output    = FALSE,              split_units      = FALSE, # better set TRUE for large number of units              time_out         = 3600 # seconds, change if run-time differs              )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-val.html","id":"load-packages-and-settings","dir":"Articles","previous_headings":"","what":"1. Load packages and settings","title":"Validation","text":"first step, script loads required packages, defines model path validation period, sets simulation start end dates, configures parallel processing, specifies file names paths saving results. selects parameter sets validation runs.","code":"# Load required R packages (if not yet done)------------------------------- library(SWATrunR) library(SWATtunR) library(hydroGOF) library(tidyverse)  # Path to the SWAT+ project folder. model_path <- ''  ## Define the period for which validate the calibrated model period_valid <- c('yyyy-mm-dd', 'yyyy-mm-dd')  # Start date of the simulation for the validation period. # This should be at least 2 years before 'start_date_print' and the start of the # validation period to ensure the model reaches a steady state. start_date <- 'yyyy-mm-dd' # End date of simulation of validation period end_date <- period_valid[2] # Start date for printing of validation simulation outputs start_date_print <- period_valid[1]  # Number of cores used for parallel simulation runs n_cores <- NULL  # Name of the folder where simulation results will be saved incrementally. # To continue writing to existing saved runs, replace by the name of the # existing save_file. save_file_name <- paste0(format(Sys.time(), '%Y%m%d%H%M'), '_sim_val')  # Path where the simulation results are saved. # Default the simulations are saved in the calibration project # in the sub-folder /simulation save_path <- './simulation'  # E.g. path to discharge observations flow_path <- './observation/.csv'  ## The main step in valitadion is to run only selected parameter sets parameter_set_valid <- parameter_set[run_ids, ]"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-val.html","id":"perform-simulation-runs-and-load-results","dir":"Articles","previous_headings":"","what":"2. Perform simulation runs and load results","title":"Validation","text":"step, script performs simulation runs using validated parameter loads simulation results, observation data analysis.","code":"# Perform simulation runs run_swatplus(project_path     = model_path,              output           = outputs,              parameter        = parameter_set_valid,              start_date       = start_date,              end_date         = end_date,              start_date_print = start_date_print,              n_thread         = n_cores,              save_path        = save_path,              save_file        = save_file_name,              return_output    = FALSE,              split_units      = FALSE, # better set TRUE for large number of units              time_out         = 3600 # seconds, change if run-time differs )  # Parameter definition ---------------------------------------------------- # Paths to simulation and observation data # E.g. load the simulations with the last time stamp, if default # save_file names in simulation runs is used. sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_val') sim_path <- paste0('./simulation/', sims[length(sims)])  # Load and prepare simulation results ------------------------------------- sim <- load_swat_run(sim_path)  # E.g. discharge observations flow_obs <- read_csv(flow_path) %>%   filter_period(., period_valid)  flow_sim <- filter_period(sim$simulation$flo_day, period_valid)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-val.html","id":"analyze-results","dir":"Articles","previous_headings":"","what":"3. Analyze results","title":"Validation","text":"step, script evaluates model performance. first calculates flow duration curves (FDCs) simulated observed discharges. , computes goodness--fit (GOF) metrics NSE, KGE, PBIAS, MAE discharge, evaluates RSR values across different FDC segments. results combined single table, selected GOF values extracted. Finally, summarizes mean performance metrics across runs, options analysis plotting provided separate script. plotting analysis options, please refer page guidance visualizing results, well 04_analyze_results.R script.","code":"# E.g. if FDC segments should be evaluated, calculate the # FDC for the simulated discharges flow_fdc_sim <- calc_fdc(flow_sim) # E.g. if FDC segments should be evaluated, calculate the # FDC for the simulated discharges flow_fdc_obs <- calc_fdc(flow_obs)  # Calculate goodness-of-fit values ---------------------------------------- # E.g. to calculate typical indices such as NSE, KGE, pbias, etc. for discharge gof_flow <- calc_gof(sim = flow_sim, obs = flow_obs,                      funs = list(nse_q = NSE, kge_q = KGE, pb_q = pbias,                                  mae_q = mae))  # Calculate RSR for different discharge FDC sections (as proposed in # Pfannerstill et al., 2014 (https://doi.org/10.1016/j.jhydrol.2013.12.044)) gof_fdc <- calc_fdc_rsr(fdc_sim = flow_fdc_sim, fdc_obs = flow_fdc_obs,                         quantile_splits = c(5, 20, 70, 95))  # E.g. if all calculated GOF tables should be joined to one table gof_all <- list(gof_flow, gof_fdc) %>%   reduce(., left_join, by = 'run')  # Select the GOF values of interest gof_sel <- select(gof_all, run, nse_q, pb_q, p_0_5, p_20_70, p_70_95)  # Print the mean GOF values for all runs gof_sel[names(gof_sel)[names(gof_sel) != \"run\"]] %>% summarise_all(mean)  # For plotting options or extension to different variables, etc., see the the # 04_analyze_results.R script."},{"path":"https://biopsichas.github.io/SWATtunR/articles/hc-val.html","id":"comparing-calibration-and-validation-results","dir":"Articles","previous_headings":"","what":"4. Comparing calibration and validation results","title":"Validation","text":"plot_cal_val() function SWATtunR package can used compare calibration validation results visually. function allows plot performance metrics calibration validation phases side side easy comparison.  satisfied validation results, advisable check underlying issues model setup proceeding scenario modeling. can done using SWAT+ model setup verification workflow SWATdoctR tool described , helps identify potential issues can save considerable time later stages model use. quality assurance step particularly important model applied scenario analysis decision-making.","code":"##Simple example plot_cal_val(gof_sel_cal, gof_sel_val)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/init.html","id":"initialization","dir":"Articles","previous_headings":"","what":"Initialization","title":"Getting Started","text":"beginning calibration SWATtunR package, users must establish calibration project setting well-organized directory containing essential files folders support calibration process. package offers automated functions streamline setup, ensuring necessary components included. Additionally, provides example data workflow scripts explanations examples help users start efficiently. SWATtunR package offers two main functions, initialize_softcal() initialize_hardcal(), requiring project name, calibration project save path, SWAT+ model setup path inputs. functions automatically set calibration project, including folder structure, example data, workflow script. project structure, though slightly varying function, includes ‘Workflow’ folder adaptable R scripts (notably ordered hard calibration), ‘Simulation’ folder storing SWATrunR results *.sqlite files timestamps, ‘Observation’ folder data like daily streamflow, ‘Backup’ folder modified files (e.g., plants.plt). *.Rproj file also included main directory facilitate script execution.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/init.html","id":"examples","dir":"Articles","previous_headings":"","what":"Examples","title":"Getting Started","text":"Examples function usage provided , illustrating initialize calibration project soft hard calibration workflows.","code":"initialize_softcal(project_name = 'softcal_test',                     path = 'Path:/to/directory',                     model_path = 'Path:/to/txt_inout') initialize_hardcal(project_name = 'hardcal_test',                     path = 'Path:/to/directory',                     model_path = 'Path:/to/txt_inout')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/init.html","id":"example-setup","dir":"Articles","previous_headings":"","what":"Example setup","title":"Getting Started","text":"case want test package without setting project, want replicate results provided examples, can use example SWAT+ model setup data included package. setup obtained SWATdata R package, accompanying data described (Bosch et al. 2007). following code demonstrates access example (test) model setup data installed package. files crop.csv (crop yield statistics) q.csv (discharge data m³/s) contain monitoring data catchment outflow, swatplus_rev60_demo.zip includes necessary files SWAT+ model setup, well GIS data reaches, basin, HRUs. SWAT+ model setup specified path can used initialize_softcal() initialize_hardcal() functions set working projects soft hard calibration.","code":"temp_path <- system.file(\"extdata/example\", package = \"SWATtunR\")"},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/articles/intro.html","id":"introduction-to-swattunr","dir":"Articles","previous_headings":"","what":"Introduction to SWATtunR","title":"Overview","text":"SWATtunR open-source R package designed automate enhance calibration validation SWAT+ (Soil Water Assessment Tool) models. provides flexible comprehensive suite functions workflows support users building fully scripted, reproducible hydrological modeling processes R. package integrates SWAT-related R packages SWATbuildR, SWATprepR, SWATfarmR, SWATdoctR, SWATrunR, SWATmeasR, SWATreadR, SWATdata — forming powerful interoperable ecosystem tools hydrological environmental modelers working SWAT/SWAT+ models.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/intro.html","id":"key-functionalities-of-swattunr-include","dir":"Articles","previous_headings":"Introduction to SWATtunR","what":"Key functionalities of SWATtunR include:","title":"Overview","text":"Workflow initialization setup Parameter sampling strategies Input output data manipulation Performance evaluation metrics Advanced visualization calibration validation results Model file management tools use SWATtunR, users must provide working SWAT+ model setup along corresponding observed data. package guides performing calibration validation adjusting parameters three key SWAT+ input files: plants.plt – crop yield (soft calibration) hydrology.hyd – water yield ratio (soft calibration) calibration.cal – model calibration parameters (hard calibration)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/intro.html","id":"calibration-workflow","dir":"Articles","previous_headings":"","what":"Calibration Workflow","title":"Overview","text":"calibration process SWATtunR divided two main stages: soft hard calibration. Soft calibration focuses improving plant growth water balance without altering core model dynamics. involves: Step 1: Calibrate crop growth parameter (days_mat) achieve reasonable Plant Heat Unit (PHU) fractions harvest (typically 1.00 1.25). Step 2–3 (Optional): Adjust additional crop yield parameters (lai_pot, harv_idx, tmp_base, bm_e) align simulated yields observed data. Step 2–3: Calibrate evapotranspiration components (esco, epco) match observed water yield ratios. crops fail reach full maturity yield unrealistic, crop management parameter ranges may need revision. Hard calibration fine-tunes model parameters observed discharge, sediment, nutrient data. Two strategies supported: Sequential calibration: Stepwise adjustment hydrological, sediment, nutrient processes. Simultaneous calibration: Joint tuning processes, improving fit interrelated components like streamflow, nutrients, sediments. SWATtunR supports flexible workflows, including multi-site calibration, use hydrological signatures, multi-criteria performance evaluation ensure robust model performance across varying conditions.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"qa1_step1","dir":"Articles","previous_headings":"","what":"1. Analysis of simulated annual climate variables","title":"Step 1: Input","text":"plot gives overview annual simulated basin average weather inputs. simulated values plausible ranges must comparable literature values, continuing model verification steps. plot panels relative humidity wind speed show 0 values SWAT+ model revision lower 60.5.5 used simulation. verification simulated relative humidity wind speed done plot . Please consider points following checklist verify simulated weather data:","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"pet-and-et","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"PET and ET","title":"Step 1: Input","text":"average annual PET plausible compared regional PET? variability PET plausible? >> simulation PET influenced weather inputs temperature, relative humidity, wind speed, solar radiation. Simulated values significantly differ region specific literature values can indicate issues weather inputs (see also plot panels). >> Adjustments PET can achieved small (!) changes parameter pet_pmpt (may considered water balance soft calibration). average annual ET plausible compared regional ET (available)? proportions eplant, esoil, ecanopy reasonable. vegetated areas eplant dominant part et. >> Low overall et can indicate issues simulation plant growth. >> Low eplant compared esoil can indicate issues simulation plant growth.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"precipitation-and-snow-fall","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"Precipitation and snow fall","title":"Step 1: Input","text":"annual precipitation sums plausible range? fraction snowfall compared precipitation sum plausible? >> Large differences simulated observed precipitation can indicate issues precipitation input data. >> snowfall strongly differs expected values can indicate issues temperature input data, model parameters snofall_tmp (snowfall temperature).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"temperature","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"Temperature","title":"Step 1: Input","text":"daily minimum maximum temperatures plausible ranges? annual mean temperature values average annual mean temperature comparable region specific temperature statistics?","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"relative-humidity","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"Relative humidity","title":"Step 1: Input","text":"relative humidity records range 0 1? available average values compare region specific statistics?","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"wind-speed","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"Wind speed","title":"Step 1: Input","text":"annual mean/min/max wind speeds plausible range?","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"solar-radiation","dir":"Articles","previous_headings":"1. Analysis of simulated annual climate variables","what":"Solar radiation","title":"Step 1: Input","text":"annual solar radiation sums comparable region specific statistics?","code":"plot_climate_annual(sim_nostress)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"qa1_step2","dir":"Articles","previous_headings":"","what":"2. Seasonal dynamics of the precipitation and snow processes","title":"Step 1: Input","text":"optional check catchments snowfall snowmelt play role. upper plot panel shows monthly average sums precipitation separated rainfall snowfall. plot help verify start end month seem plausible snowfall occur fractions snowfall compared total precipitation seem plausible. second plot panel shows runoff generated snowmelt. plot help verify snomelt dominated runoff spring. weather inputs verified section major issues present weather inputs, visible issues verification step can indicate problematic parametrizations SWAT+ snow parameters snofall_tmp (snowfall temperature) snomelt_tmp (snowmelt temperature).","code":"plot_monthly_snow(sim_nostress)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"qa1_step3","dir":"Articles","previous_headings":"","what":"3. Overall simulated water balance","title":"Step 1: Input","text":"plot gives overview overall simulated water balance. water balance addressed soft calibration. can worth quick look basin water balance components verify shares overall water cycle plausible water yield ratio (wyld / precip) base flow ratio (base / wyld) already compare characteristics observed runoff. water balance components also part weather inputs analysis. plots puts components water cycle perspective. may look following aspects water balance: wyld already plausible range excessive 0? components wyld (surface, lateral, aquifer flow) active one components 0? soil water storage plausible range (e.g. values much larger 0 mm (e.g. ~ 100 mm) lower 600 mm)? water percolate aquifer. Otherwise groundwater flow occur? irrigation implemented, value irr > 0? Two versions plot_waterbalance function available. simplified version might good get overview, detailed version important quality assurance. two plots.","code":"plot_waterbalance(sim_nostress, simplified = TRUE) plot_waterbalance(sim_nostress)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st1.html","id":"qa1_step4","dir":"Articles","previous_headings":"","what":"4. Analysis of simulated water balance at the HRU level","title":"Step 1: Input","text":"check_hru_waterbalance performs checks simulated water balance components identify potential issues. rules used check functions adopted SWATCheck (SWATCheck however performs analyses basin land use level). returned table shows HRUs least one checks identified potential issue. checks help identify HRUs land uses investigated (e.g. daily time series plots variables using functions plot_hru_pw_day plot_hru_var). example checks run ET (et), soil water (sw), curve number (cn). land uses may always flag issues checks. example ignored checks. ignore_lum = c('^u', '^wet') means landuses begin letter ‘u’ (case urban land uses) wetland land uses (begin ‘wet’) ignored. continue analysis, please proceed step 2.","code":"hru_wb_check <- check_hru_waterbalance(sim_nostress,                                         check = c('et', 'sw', 'cn'),                                        ignore_lum = c('^u', '^wet')) rmarkdown::paged_table(hru_wb_check)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st2.html","id":"qa2_step1","dir":"Articles","previous_headings":"","what":"1. Issues with scheduled and triggered management operations","title":"Step 2: Management","text":"report_mgt gives overview operations differ scheduled operations ones actually triggered simulation run. differences identified must investigated. Identified differences must necessarily error, can also result e.g. operations triggered decision tables. manual, visual investigation rule cases. example one issue identified.","code":"mgt_report <- report_mgt(sim_nostress) if(!is.null(mgt_report)) {   rmarkdown::paged_table(mgt_report) }"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st2.html","id":"qa2_step2","dir":"Articles","previous_headings":"","what":"2. Analize differences in management for an HRU","title":"Step 2: Management","text":"management report flagged management HRU different, following code can help look operations found different scheduled triggered management. analyze full triggered management table HRU printed SWAT+ simulation run following lines code. can also open ‘management.sch’ file see scheduled management operations HRU. case error 'wira' plant planted, 'wbar' harvested. clear error management schedule.  continue analysis, please proceed step 3.","code":"##Select a case to examine sel_nb <- 1 sel_mgt <- mgt_report[[sel_nb,\"schedule\"]] print(paste(\"Table of issues for selected management\", sel_mgt)) ## [1] \"Table of issues for selected management field_129_10_mgt\" mgt_report$schedule_report[[sel_nb]] ##   year mon day op_typ op_data1_trig op_data1 op_data2 op_data3 ## 1    2   7   1   harv          <NA>     wbar    grain        0 id <- get_hru_id_by_attribute(sim_nostress, mgt = sel_mgt)$id[1] print(paste(\"HRU\", id, \"trigerred management table\")) print_triggered_mgt(sim_verify = sim_nostress, hru_id = id) ## [1] \"HRU 16 trigerred management table\""},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st3.html","id":"qa3_step1","dir":"Articles","previous_headings":"","what":"1. Plant stress","title":"Step 3: Growth","text":"Plant growth without simulated plant stress result potential biomass yield plant can gain given climatic soil conditions simulated catchment. step focus verification duration scheduled growing period selected crop parametrizations meet climatic conditions. crop specific analyses step can performed function plot_variable_at_harvkill. First check plant stresses really deactivated simulations (figure show 0 values):","code":"plot_variable_at_harvkill(sim_nostress, variable = 'stress')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st3.html","id":"qa3_step2","dir":"Articles","previous_headings":"","what":"2. Potential heat unit fractions","title":"Step 3: Growth","text":"relevant indicator duration growing period potential heat unit fraction. value 1 means plant reached full maturity. grains additionally dry field. Thus value ~1.2 reached. following plot help see crops scheduled managements reach maturity. Crops show many values smaller 1 must analyzed. also values much larger 1 must treated implausible require perform analyses.","code":"plot_variable_at_harvkill(sim_nostress, variable = 'phu')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st3.html","id":"qa3_step3","dir":"Articles","previous_headings":"","what":"3. Unconstrained yields","title":"Step 3: Growth","text":"potential heat unit fractions plausible range unconstrained yields can analyzed. plotted values likely larger region specific literature values, much lower literature values. Otherwise indicates potential issue development respective crop:","code":"plot_variable_at_harvkill(sim_nostress, variable = 'yield')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st3.html","id":"qa3_step4","dir":"Articles","previous_headings":"","what":"4. Further analysis of identified issues","title":"Step 3: Growth","text":"example unusually high heat unit values, low (almost zero) yields identified must investigated. can done first filtering HRUs show issue perform detailed plots may support identification issue. can filter HRUs interest function filter_hru_at_harvkill. function used one multiple crop, phu, plant_bioms, yield, water_stress, aero_stress, temp_stress, n_stress p_stress variables. example filters HRUs large PHU values harvest kill. want look crop development time can example function plot_hru_pw_day. example high PHU values found sugar beets, ofor HRU #2679, #4602 #6313. function plots LAI bio mass development crops HRU several years.  continue analysis, please proceed step 4.","code":"high_phu <- filter_hru_at_harvkill(sim_nostress, phu > 1.86) high_phu ##    hru       date crop      phu plant_bioms    yield water_stress aero_stress ## 1 2679 2018-10-15 sgbt 1.863293    25277.69 16809.66            0           0 ## 2 6313 2018-10-15 sgbt 1.867149    25467.05 16935.59            0           0 ## 3 4602 2018-10-15 sgbt 1.862455    25388.35 16883.26            0           0 ##   temp_stress n_stress p_stress ## 1           0        0        0 ## 2           0        0        0 ## 3           0        0        0 plot_hru_pw_day(sim_nostress,                  hru_id = c(2679, 4602, 6313),                  var = c('lai', 'bioms'),                  years = 2012:2020,                  add_crop = TRUE)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st4.html","id":"qa4_step1","dir":"Articles","previous_headings":"","what":"1. Running the SWAT+ model (with plant stress factors active)","title":"Step 4: Stress","text":"individual stress factors can analyzed, run simulations extract required simulation outputs. simulations performed saved external stress factors active (excluding nutrient stress factors). also run save simulations stress factors activated, comparison yield declines due simulated stress factors.","code":"sim_extstress <- run_swat_verification(project_path = model_path,                                         outputs = c('wb', 'mgt', 'plt'),                                         years_skip = 3,                                         nostress = 2)  file_version <- get_file_version(parent_dir, save_name, '_extstr_') + 1 saveRDS(sim_extstress, file = paste0(parent_dir,'/',                                       save_name, '_extstr_',                                       file_version,'.rds')) file_version <- get_file_version(parent_dir, save_name, '_extstr_') sim_extstress <- readRDS(file = paste0(parent_dir,'/',                                         save_name, '_extstr_',                                         file_version,'.rds')) sim_allstress <- run_swat_verification(project_path = model_path,                                        outputs = c('wb', 'mgt', 'plt'),                                        years_skip = 3,                                        nostress = 0)  file_version <- get_file_version(parent_dir, save_name, '_allstr_') + 1 saveRDS(sim_allstress, file = paste0(parent_dir,'/',                                       save_name, '_allstr_',                                       file_version,'.rds')) file_version <- get_file_version(parent_dir, save_name, '_allstr_') sim_allstress <- readRDS(file = paste0(parent_dir,'/',                                         save_name, '_allstr_',                                         file_version,'.rds'))"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st4.html","id":"qa4_step2","dir":"Articles","previous_headings":"","what":"2. Compare yields with different stress factors activated","title":"Step 4: Stress","text":"compare simulated yields without simulated stress factors cases external stress factors active stress factors active. can expect decline yields due active stress. decline however large. Particularly large number outliers lower end yields close 0 raise attention investigated. differences simulations external stresses stresses active can good indicator whether external factors nutrient inputs dominant factors. Please consider following check list: find strong decline no_stres ext_stress used crops investigated parametrizations compatible climatic inputs. aeration stress high (analyzed ), soil properties may investigated. water stress high (also analyzed ), may indicate rainfall sufficient must investigated irrigation actually applied considered management schedules. Increased temperature stress can indicate temperature inputs crop temperature parameters compatible. case crop parametrization may need attention. decline ext_stress all_stress large limited nutrient supply may dominant factor. can indicate insufficient fertilizer application management schedules.","code":"sim_list <- list(no_stress  = sim_nostress,                   ext_stress = sim_extstress,                   all_stress = sim_allstress) plot_variable_at_harvkill(sim_list, variable = 'yield')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st4.html","id":"qa4_step3","dir":"Articles","previous_headings":"","what":"3. Analyze the plant stress factors","title":"Step 4: Stress","text":"expected plant stress factors 0 sim_nostress simulation runs, now look simulated stresses stress factors active. plotted results checked short check list .  continue analysis, please proceed step 5.","code":"plot_variable_at_harvkill(sim_allstress, variable = 'stress')"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st5.html","id":"qa5_step1","dir":"Articles","previous_headings":"","what":"1. Point sources","title":"Step 5: Other","text":"analyze implemented point source inputs run following analysis.","code":"plot_ps(sim_allstress, conc = TRUE)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa-st5.html","id":"qa5_step2","dir":"Articles","previous_headings":"","what":"2. Tile drainage","title":"Step 5: Other","text":"analyze tile drainage implemented model setup run following analysis.","code":"plot_qtile(sim_allstress)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa.html","id":"qa_step1","dir":"Articles","previous_headings":"","what":"1. Loading required packages","title":"Preparation","text":"SWATdoctR package basis workflow. installed loaded, done. installation R package platform GitHub GitLab can done package remotes Load SWATdoctR following line. package needed workflow.","code":"# If the package 'remotes' is not installed  install.packages('remotes') # If the package 'SWATdoctR' is not installed  remotes::install_git('https://git.ufz.de/schuerz/swatdoctr') library(SWATdoctR)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa.html","id":"qa_step2","dir":"Articles","previous_headings":"","what":"2. Define the model path","title":"Preparation","text":"model setup verification path defined. setup calibration validation, make sure contains ‘calibration.cal’ file. can prepared step","code":"# Path to the SWAT+ project model_path <- 'Define:/your/model/txtinout/path'  # Path to folder where project is located (for later file writing) parent_dir <- dirname(model_path) # Name of the SWAT+ project folder (for later file reading/writing) save_name  <- basename(gsub('/$', '', model_path))"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa.html","id":"qa_step3","dir":"Articles","previous_headings":"","what":"3. (Optional) Harvest and kill operation seperation","title":"Preparation","text":"Plotting variables harvest kill crop requires management operations ‘harvest’ ‘kill’ set separately management schedules combined ‘harvest_kill’ operation. case model setup combined operation following function fixes issue.","code":"add_kill_op(model_path)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/qa.html","id":"qa_step4","dir":"Articles","previous_headings":"","what":"4. Running the SWAT+ model (all plant stress factors deactivated)","title":"Preparation","text":"run_swat_verification SWAT+ simulations performed model setup model_path, used verification steps. simulations analysis steps 1. 3. preformed without plant stress activated. simulation results saved folder SWAT+ project located. verification iterative step, simulation repeated identified issues model setup fixed verification steps repeated. Every time simulation repeated saved new file name (previous steps documented), name follows syntax ‘<project_name>_nostr_<version>.rds’. also important note outputs run_swat_verification function, depending setup, multiple gigabytes size, might cause R break restart. Therefore, archiving results crucial. Automatically new version always increased 1 respect largest version number found folder. can delete previous versions manually folder. Following lines used load saved results file. following analyses step 1, step 2 step 3 use file version file_version sim_nostress.","code":"## Running SWAT+ model setup and saving outputs required for the workflow sim_nostress <- run_swat_verification(project_path = model_path,                                       outputs = c('wb', 'mgt', 'plt'),                                       years_skip = 3,                                       nostress = 1)  ## Saving results into the file file_version <- get_file_version(parent_dir, save_name, '_nostr_') + 1 saveRDS(sim_nostress, file = paste0(parent_dir,'/', save_name, '_nostr_',                                      file_version,'.rds')) file_version <- get_file_version(parent_dir, save_name, '_nostr_') sim_nostress <- readRDS(file = paste0(parent_dir,'/',                                        save_name, '_nostr_',                                        file_version,'.rds'))"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Crop PHUs","text":"SWATtunR package provides structured approach soft calibration crop parameters, aiming align SWAT+ simulations observed crop yields. process detailed template script, initially developed EU project OPTAIN documented deliverables, application across various European case studies explored. calibration three-stage routine tailored individual SWAT projects. First, adjusts days maturity crop achieve Plant Heat Unit (PHU) fractions harvest 1.0 1.2. Second, four additional crop parameters can fine-tuned, necessary, align simulated yields observed statistics. final step use esco epco parameters match simulated water yield ratio observed one.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"Crop PHUs","text":"created soft calibration directory initialize_softcal() function, workflow/01_crop_phu.R script file included. script serves starting point, providing customizable template guide users days maturity (days_mat) parameter calibration process effectively. Following steps outlined page comes script, users can adapt calibration routine specific SWAT+ model setup observed data. script designed flexible, allowing modifications based unique characteristics crops modeled management practices place.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"scc_step1","dir":"Articles","previous_headings":"","what":"1. Load packages, settings and yield data","title":"Crop PHUs","text":"SWATtunR package essential soft calibration, provides necessary functions calibration process. Additional packages required data manipulation, visualization, SWAT+ model runs, etc. Example provided using SWAT+ model setup provided SWATtunR package, workflow can applied SWAT+ project. case crop yield information quite simple.","code":"## Required libraries to run workflow library(SWATtunR) library(SWATrunR) library(tidyverse) library(tibble) library(purrr)  # Parameter definition ---------------------------------------------------- # Path to the SWAT+ project folder. model_path <- 'test/swatplus_rev60_demo'  # Set the number of cores for parallel model execution n_cores <- Inf # Inf uses all cores. Set lower value if preferred.  # Set the number parameter combinations for the LHS sampling of crop parameters n_combinations <- 10  # Path to the observed crop yields. # This file must be updated with case study specific records! yield_obs_path <- './observation/crop.csv'  # Load and prepare data --------------------------------------------------- # Load the yield observations yield_obs  <- read.csv(yield_obs_path)  # Define the crops which should be used in the calibration. # Default is all crops which are defined in yield_obs. # Please define manually if only selected crops should be considered. crop_names <- yield_obs$plant_name  # Optional reset of plants.plt -------------------------------------------- # In the case the crop calibration workflow should be redone after the last step # of this script was already executed and the plants.plt was overwritten the # plants.plt should be reset to its initial condition. To perform the reset set # reset <- TRUE reset <- FALSE if(reset) {   file.copy('./backup/plants.plt',             paste0(model_path, '/plants.plt'),             overwrite = TRUE) } else if (!file.exists('./backup/plants.plt')){   file.copy(paste0(model_path, '/plants.plt'),             './backup/plants.plt',             overwrite = FALSE) }"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"scc_step2","dir":"Articles","previous_headings":"","what":"2. Generate days_mat parameter set","title":"Crop PHUs","text":"days maturity (days_mat) determine quickly slowly crop develops SWAT+ model, converted heat units required crop fully mature. ensure crop behaves intended, days_mat value must align defined management operations schedule. identify suitable days_mat values selected crops, parameter set created days_mat value sample_day_mat() function crop varied within range (change_min, change_max) using fixed intervals (change_step). par_dmat data frame containing days_mat values crop, used calibration process. plants.plt file used get initial values function sample_days_mat() generates range values based defined parameters.","code":"par_dmat <- sample_days_mat(crop_names)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"run-model-for-parameter-set","dir":"Articles","previous_headings":"","what":"3. Run model for parameter set","title":"Crop PHUs","text":"next step run SWAT+ model generated days_mat parameter set. run_swatplus function SWATrunR package executes model simulations combination parameters par_dmat. results stored simulation folder, can used analysis. folder include timestamp distinguish run. process repeated, analysis automatically use recent set simulation results. Note: encounter error message “Simulation run incomplete”, please check whether management.sch file contains operation hvkl combination harv + kill. latter required successfully extracting results mgtout. fix , apply add_kill_op() function SWATtunR package management.sch file.","code":"# Run the SWAT+ model with the generated days_mat parameter set run_swatplus(project_path = model_path,              output = list(yld = define_output(file = 'mgtout',                                                variable = 'yld',                                                label = crop_names),                            bms = define_output(file = 'mgtout',                                                variable = 'bioms',                                                label = crop_names),                            phu = define_output(file = 'mgtout',                                                variable = 'phu',                                                label = crop_names)              ),              parameter        = par_dmat,              start_date       = NULL, # Change if necessary.              end_date         = NULL, # Change if necessary.              years_skip       = NULL, # Change if necessary.              n_thread         = n_cores,              save_path        = './simulation',              save_file        = add_timestamp('sim_dmat'),              return_output    = FALSE,              time_out         = 3600 # seconds, change if run-time differs              )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"plot-and-select-days_mat-parameters","dir":"Articles","previous_headings":"","what":"4. Plot and select days_mat parameters","title":"Crop PHUs","text":"running model important load results visualize crop yields, PHU fractions harvest, biomass assess performance model different days_mat values. load_swat_run function SWATrunR package used load recent simulation results simulation folder. plot_phu_yld_bms() function used visualize crop yields crop days_mat value.  figure can select days_mat values crop fall within PHU correct interval 1 - 1.2 best match observed yields. selected values saved code snippet dmat_sel used next step.","code":"# Load the most recent dmat simulation results dmat_sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_dmat') dmat_path <- paste0('./simulation/', dmat_sims[length(dmat_sims)]) ylds_phu_dmat <- load_swat_run(dmat_path, add_date = FALSE) # Check for failed runs failed_runs(ylds_phu_dmat)  # Plot PHU, crop yields and biomass over adjusted days to maturity values. plot_phu_yld_bms(ylds_phu_dmat, yield_obs) # Set days to maturity values for all selected crops based on the figure above. dmat_sel <- tibble(   plant_name                       = c('corn', 'cots', 'pnut'),   'days_mat.pdb | change = absval' = c(140, 160, 160))  # Check if user defined days to maturity values for all crops. stopifnot(all(crop_names %in% dmat_sel$plant_name)) # Update names of dmat_sel to be used as SWATrunR parameters dmat_sel <- prepare_plant_parameter(dmat_sel)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-phu.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Crop PHUs","text":"think PHU fractions yields acceptable, can proceed updating plants.plt. details, see steps 5 step 6 next workflow page. think crop yields acceptable, can proceed next step adjusting additional crop parameters improve yield simulation. done workflow/02_crop_yield.R script file, guidance provided next page . think crop yields acceptable, can proceed next step water yield ratio soft calibration . Crop water yield calibration interconnected. Changes plant parameters can affect evapotranspiration water yield, parameters like epco may influence crop yields. Therefore, track yields final parameter selection soft calibration hard calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Water Yield","text":"SWATtunR package supports flexible systematic approach soft calibration hydrological parameters SWAT+ water yield calibration. template script—intended adapted specific SWAT project—guides users calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"Water Yield","text":"calibration process structured two main alternatives: Alternative : Calibrate esco parameter achieve target water yield ratio modeled catchment. esco (soil evaporation compensation factor) allows users adjust depth distribution used meet soil evaporative demand, accounting effects capillary action, crusting, cracks. default value 0.5. parameter essential accurately simulating water balance SWAT+ models, especially regions soil evaporation significantly influences hydrological cycle. Alternative B: Jointly calibrate esco epco parameters. epco (plant uptake compensation factor) controls extent deeper soil layers can compensate water shortages upper layers. epco close 1.0, plants can draw water deeper layers; near 0.0, uptake restricted original root depth distribution, allowing minimal compensation. alternative chosen, epco kept close possible default value 0, significant changes can strongly affect crop yield simulations. changes occur, crop yield soft calibration step revisited. following workflow script generated soft calibration function initialize_softcal(). located workflow/02_wateryield.R. script serves customizable template guide users water yield soft calibration process effectively. overview workflow steps presented figure . page provides detailed description step, including necessary code snippets explanations.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step1","dir":"Articles","previous_headings":"","what":"1. Load packages, settings & WYR target","title":"Water Yield","text":"SWATtunR package essential soft calibration, provides necessary functions calibration process. Additional packages required data manipulation, visualization, SWAT+ model runs, etc. example, present Alternative B workflow water yield ratio soft calibration, represents slightly complex option. Users can switch Alternative setting alternative variable ''. model path updated point user’s specific SWAT+ project folder.","code":"# Load required R packages ------------------------------------------------ library(SWATtunR) library(SWATrunR) library(tibble)  # Parameter definition ---------------------------------------------------- # Decide for calibration alternative 'A' (only esco) or 'B' (esco and epco). alternative <- 'B'  # Path to the SWAT+ project folder. model_path <- 'test/swatplus_rev60_demo'  # Set the number of cores for parallel model execution n_cores <- Inf # Inf uses all cores. Set lower value if preferred.  # Set the number of steps in which the parameters esco/epco should be sampled # A low number of e.g. 5 to 10 is absolutely sufficient. n_step <- 5  # Set the target water yield ratio for the catchment (calculated from precipitation and flow data) wyr_target <- 0.3  # Load and prepare data --------------------------------------------------- # Load the yield observations yield_obs_path <- './observation/crop_yields.csv' yield_obs  <- read.csv(yield_obs_path)  # Define the crops which should be used in the calibration. # Default is all crops which are defined in yield_obs. # Please define manually if only selected crops should be considered. crop_names <- yield_obs$plant_name  # Optional reset of hydrology.hyd ----------------------------------------- # In the case the water yield ratio calibration workflow should be redone after # the last step of this script was already executed and the hydrology.hyd was # overwritten the hydrology.hyd should be reset to its initial condition. To # perform the reset set reset <- TRUE reset <- FALSE if(reset & file.exists('./backup/hydrology.hyd')) {   file.copy('./backup/hydrology.hyd',             paste0(model_path, '/hydrology.hyd'),             overwrite = TRUE) }"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step2","dir":"Articles","previous_headings":"","what":"2. Generate parameter set for esco/epco","title":"Water Yield","text":"step, generate parameter set esco epco parameters. n_step set 5, 5 × 5 = 25 parameter combinations generated. parameters sampled equal intervals 0.05 0.95. intervals can used well.","code":"# Alternative A: Calibrate esco ------------------------------------------- if(alternative == 'A') {   # Sample the paramter esco with the defined number of steps.   par_esco_epco <- tibble('esco.hru | change = absval' =                             seq(0.05,0.95, length.out = n_step))  # Alternative B: Calibrate esco and epco ---------------------------------- } else if (alternative == 'B') {   # Define the esco and epco parameter ranges.   par_bnd <- tibble('esco.hru | change = absval' = seq(0.05, 0.95, length.out = n_step),                     'epco.hru | change = absval' = seq(0.05, 0.95, length.out = n_step))    # Sample the esco epco combinations with LHS sampling.   par_esco_epco <- expand.grid(par_bnd) }"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step3","dir":"Articles","previous_headings":"","what":"3. Run model for parameter set","title":"Water Yield","text":"step run_swatplus function SWATrunR package executes model simulations combination prepared parameters. simulation results saved ./simulation folder. set results time-stamped, process repeated, recent simulations always used analysis.","code":"# Run the SWAT+ model for each parameter combination run_swatplus(project_path = model_path,              output = list(precip  =  define_output(file = 'basin_wb_aa',                                                     variable = 'precip',                                                     unit = 1),                            surq_cha = define_output(file = 'basin_wb_aa',                                                     variable = 'surq_cha',                                                     unit = 1),                            surq_res = define_output(file = 'basin_wb_aa',                                                     variable = 'surq_res',                                                     unit = 1),                            latq_cha = define_output(file = 'basin_wb_aa',                                                     variable = 'latq_cha',                                                     unit = 1),                            latq_res = define_output(file = 'basin_wb_aa',                                                     variable = 'latq_res',                                                     unit = 1),                            qtile =    define_output(file = 'basin_wb_aa',                                                     variable = 'qtile',                                                     unit = 1),                            flo =      define_output(file = 'basin_aqu_aa',                                                     variable = 'flo',                                                     unit = 1)              ),              parameter        = par_esco_epco,              start_date       = NULL, # Change if necessary.              end_date         = NULL, # Change if necessary.              add_date         = FALSE,              years_skip       = NULL, # Change if necessary.              n_thread         = n_cores,              save_path        = './simulation',              save_file        = add_timestamp('sim_wbal'),              return_output    = FALSE,              time_out         = 3600 # seconds, change if run-time differs              )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step4","dir":"Articles","previous_headings":"","what":"4. Plot and select esco/epco parameters","title":"Water Yield","text":"load_swat_run function SWATrunR package used load recent simulation results simulation folder. plot_esco_epco() function used visualize results. Based simulated water balance components different esco epco values, simulated water yield ratio calculated plotted parameter values. plot also includes target water yield ratio help identify suitable range value esco epco.  esco/epco plot displays recommended parameter values meet target water yield ratio. two options defining esco epco use model: Option 1: Set fixed values hydrology.hyd file specific values esco /epco selected, can written directly hydrology.hyd file, replacing initial values. fixed values can either serve starting point calibration maintained constant values later calibration steps. Option 2: Use parameter ranges calibration Alternatively, parameter ranges can selected based plot used additional simulations SWATrunR, example, detailed (hard) calibration. choosing one options, recommended run additional simulation using selected esco/epco parameter set. helps evaluate simulated water yield ratio crop yields, especially since parameters like epco can influence simulated plant growth. example use first option set fixed values esco epco hydrology.hyd file. Following values selected based plot .","code":"# Load the most recent simulation results of the water balance components. wbal_sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_wbal') wbal_path <- paste0('./simulation/', wbal_sims[length(wbal_sims)]) wbal_sim  <- load_swat_run(wbal_path, add_date = FALSE) # Check for failed runs failed_runs(wbal_sim)  # Plot the water balance components and the water yield ratio plot_esco_epco(wbal_sim, 0.28, rel_wyr_limit = 0.05) # Set fixed values for esco and epco in the hydrology.hyd file. Alternative 'B' is used here. if (alternative == 'A') {   par_check <- tibble('esco.hru | change = absval' = 0.5) # Adjust accordingly } else if (alternative == 'B') {   par_check <- tibble('esco.hru | change = absval' = 0.02, # Adjust accordingly                       'epco.hru | change = absval' = 0.12) # Adjust accordingly }"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step5","dir":"Articles","previous_headings":"","what":"5. Run model for user esco/epco values","title":"Water Yield","text":"step, model run using selected esco epco values. results saved new folder.","code":"# Rerun model for crop yields results run_swatplus(project_path = model_path,              output = list(precip  =  define_output(file = 'basin_wb_aa',                                                     variable = 'precip',                                                     unit = 1),                            surq_cha = define_output(file = 'basin_wb_aa',                                                     variable = 'surq_cha',                                                     unit = 1),                            surq_res = define_output(file = 'basin_wb_aa',                                                     variable = 'surq_res',                                                     unit = 1),                            latq_cha = define_output(file = 'basin_wb_aa',                                                     variable = 'latq_cha',                                                     unit = 1),                            latq_res = define_output(file = 'basin_wb_aa',                                                     variable = 'latq_res',                                                     unit = 1),                            qtile    = define_output(file = 'basin_wb_aa',                                                     variable = 'qtile',                                                     unit = 1),                            flo      = define_output(file = 'basin_aqu_aa',                                                     variable = 'flo',                                                     unit = 1),                            yld      = define_output(file = 'mgtout',                                                     variable = 'yld',                                                     label = crop_names),                            bms      = define_output(file = 'mgtout',                                                     variable = 'bioms',                                                     label = crop_names),                            phu      = define_output(file = 'mgtout',                                                     variable = 'phu',                                                     label = crop_names)              ),              parameter        = par_check,              start_date       = NULL, # Change if necessary.              end_date         = NULL, # Change if necessary.              # add_date         = FALSE,              years_skip       = NULL, # Change if necessary.              n_thread         = n_cores,              save_path        = './simulation',              save_file        = add_timestamp('sim_check02'),              return_output    = FALSE,              time_out         = 3600 # seconds, change if run-time differs )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step6","dir":"Articles","previous_headings":"","what":"6. Plot to check final results","title":"Water Yield","text":"finalizing model, important recheck crop simulation results selected esco epco values. plot_phu_yld_bms() function can used visualize crop yields biomass, well Potential Heat Units harvest crop.  everything looks good, final water yield ratio model results also checked using calc_wyr() function.","code":"# Load the most recent simulation results. check_sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_check02') check_path <- paste0('./simulation/', check_sims[length(check_sims)]) check_sim  <- load_swat_run(check_path, add_date = FALSE)  # Plot PHU, crop yields and biomass for final simulation run. plot_phu_yld_bms(check_sim, yield_obs, 0.3) # Check the simulated water yield ratio with reference to the target wyr. calc_wyr(check_sim)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"scwy_step7","dir":"Articles","previous_headings":"","what":"7. Update ‘hydrology.hyd’ file or save in R","title":"Water Yield","text":"last step save selected esco epco values either hydrology.hyd file save R future use. ensures model can run parameters subsequent simulations.","code":"# Option 1: Re-writing SWAT+ parameter file hydrology.hyd # If SWATreadR is not installed please install from: # devtools::install_github('chrisschuerz/SWATreadR') library(SWATreadR)  if(!file.exists('./backup/hydrology.hyd')) {   file.copy(paste0(model_path, '/hydrology.hyd'), './backup/hydrology.hyd') }  hydrology_hyd <- read_swat(paste0(model_path, '/hydrology.hyd'))  hydrology_hyd$esco <- 0.02 # set value hydrology_hyd$epco <- 0.12 # set value if epco is considered  write_swat(hydrology_hyd, paste0(model_path, '/hydrology.hyd'), overwrite = TRUE)  # Option 2: Setting parameter values for SWATrunR runs # To further use esco and epco ranges in e.g. the hard calibration workflow # add esco and epco ranges in the parameter definition (by default they are # included). To include their full ranges it may look like this. # Please adjust the ranges based on the results above.  parameter_boundaries <- tibble(   'esco.hru | change = absval' = c(0.05, 1),   'epco.hru | change = absval' = c(0.05, 1), )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-wy.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Water Yield","text":"satisfied water yield ratio crop yield results, can proceed next step — hard calibration workflow . However, may wise first review model setup using SWAT+ model setup verification workflow SWATdoctR tool described , can help identify potential issues save considerable time calibration. , hand, crop yields satisfactory step 6, revisit crop soft calibration workflow moving hard calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"Crop Yields","text":"workflow focuses adjusting crop parameters align simulated yields observed data. process similar crop PHU ratio harvest calibration, fine-tune four additional parameters: leaf area index, harvest index, base temperature plant growth, biomass energy ratio.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step1","dir":"Articles","previous_headings":"","what":"1. Load packages, settings and yield data","title":"Crop Yields","text":"step Crop PHU ratio harvest.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step2","dir":"Articles","previous_headings":"","what":"2. Add additional parameters","title":"Crop Yields","text":"addition days_mat, can also adjust parameters leaf area index (lai_pot), harvest index (harv_idx), base temperature plant growth (tmp_base), biomass energy ratio (bm_e). parameters can adjusted similar way days_mat creating parameter set sample_lhs() function. making updates, important ensure resulting values remain realistic biologically meaningful—example, avoiding negative values ranges fall outside plausible agronomic limits.","code":"par_bnd <- tibble('lai_pot.pdb | change = relchg'  = c(-0.3, 0.3),                   'harv_idx.pdb | change = relchg' = c(-0.3, 0.3),                   'tmp_base.pdb | change = abschg' = c(-1.5, 1.5),                   'bm_e.pdb | change = relchg'     = c(-0.3, 0.1))  ## The number of samples can be adjusted based on the available computational resources. ## Recommended number of samples is 50-100. par_crop <- sample_lhs(par_bnd, n_combinations) # Add updated days to maturity values to parameter set par_crop <- bind_cols(par_crop, dmat_sel)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step3","dir":"Articles","previous_headings":"","what":"3. Run model for additional parameter set","title":"Crop Yields","text":"parameters defined, can now run SWAT+ model using run_swatplus function. execute model simulations combination parameters par_bnd, results stored ./simulation folder.","code":"# Run the SWAT+ model with the additional parameter set run_swatplus(project_path = model_path,              output = list(yld = define_output(file = 'mgtout',                                                variable = 'yld',                                                label = crop_names)),              parameter = par_crop,              start_date       = NULL, # Change if necessary.              end_date         = NULL, # Change if necessary.              years_skip       = NULL, # Change if necessary.              n_thread         = n_cores,              save_path        = './simulation',              save_file        = add_timestamp('sim_yld'),              return_output    = FALSE,              time_out         = 3600 # seconds, change if run-time differs              )"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step4","dir":"Articles","previous_headings":"","what":"4. Plot and select values for parameters","title":"Crop Yields","text":"running model additional parameters, can load visualize results assess impact changes crop yields. plot_dotty_yields() function used plot crop yields combination parameters, allowing select best-performing parameter set based yield performance.  Based figure user can select best performing parameter set crop. selected values saved crop_par_sel used final run.","code":"# Load the most recent yield simulation results yld_sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_yld') yld_path <- paste0('./simulation/', yld_sims[length(yld_sims)]) yld_sim  <- load_swat_run(yld_path, add_date = FALSE) # Remove days to maturity parameter columns before plotting. yld_sim$parameter$values <- yld_sim$parameter$values[, 1:4] # Check for failed runs failed_runs(yld_sim)  ## Plot dotty figures for the selected crops plot_dotty_yields(yld_sim, yield_obs) # Fix the parameter changes you want to apply to the crops crop_par_sel <- tibble(   plant_name                       = c(\"corn\", \"cots\", \"pnut\"),   'bm_e.pdb | change = relchg'     = c(  -0.2,   -0.3,   0.1),   'harv_idx.pdb | change = relchg' = c(  -0.15,  -0.3,   0.3),   'lai_pot.pdb | change = relchg'  = c(  -0.2,   -0.3,   0.3),   'tmp_base.pdb | change = abschg' = c(   1.5,    1.5,  -1.0))  # Check if user defined days to maturity values for all crops. stopifnot(all(crop_names %in% crop_par_sel$plant_name)) # Restructure the set parameter changes to SWATrunR crop_par_sel <- prepare_plant_parameter(crop_par_sel)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step5","dir":"Articles","previous_headings":"","what":"5. Run final simulation, evaluate results","title":"Crop Yields","text":"final step, can run SWAT+ model selected parameters using run_swatplus function. execute model simulations final parameter set, results stored ./simulation folder. final simulation results can evaluated using plot_phu_yld_bms() function. plot help assess whether changes made four parameters significantly affected crop yield, biomass, PHU values. Ideally, outputs remain consistent (ranges PHU yields), main issues related days--maturity already addressed first part script.","code":"# Run the simulations run_swatplus(project_path = model_path,              output = list(yld = define_output(file = 'mgtout',                                                variable = 'yld',                                                label = crop_names),                            bms = define_output(file = 'mgtout',                                                variable = 'bioms',                                                label = crop_names),                            phu = define_output(file = 'mgtout',                                                variable = 'phu',                                                label = crop_names)              ),              parameter        = par_final,              start_date       = NULL, # Change if necessary.              end_date         = NULL, # Change if necessary.              years_skip       = NULL, # Change if necessary.              n_thread         = n_cores,              save_path        = './simulation',              save_file        = add_timestamp('sim_check01'),              return_output    = FALSE,              time_out         = 3600, # seconds, change if run-time differs              keep_folder      = TRUE ) # Load the most recent check simulation results check_sims <- list.files('./simulation/', pattern = '[0-9]{12}_sim_check01') check_path <- paste0('./simulation/', check_sims[length(check_sims)]) check_sim  <- load_swat_run(check_path, add_date = FALSE)  # Plot PHU, crop yields and biomass for final simulation run. plot_phu_yld_bms(check_sim, yield_obs, 0.3)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"sccy_step6","dir":"Articles","previous_headings":"","what":"6. Write ‘plants.plt’","title":"Crop Yields","text":"final simulation results look acceptable, can save adjusted parameter table project folder setting overwrite = TRUE command . replace original plants.plt file. backup original file available ./backup/plants.plt case need restore .","code":"file.copy(paste0(model_path, '/.model_run/thread_1/plants.plt'), model_path,           overwrite = TRUE) unlink(paste0(model_path, '/.model_run'), recursive = TRUE)"},{"path":"https://biopsichas.github.io/SWATtunR/articles/sc-yield.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Crop Yields","text":"calibrating crop yields, can proceed soft calibration water yield ratio .","code":""},{"path":"https://biopsichas.github.io/SWATtunR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Svajunas Plunge. Author, maintainer. Christoph Schuerz. Author. Michael Strauch. Author. Mikołaj Piniewski. Author.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Plunge S, Schuerz C, Strauch M, Piniewski M (2026). SWATtunR: Soft Calibration, Hard Calibration, Validation SWAT+ Models. R package version 0.3.12, https://biopsichas.github.io/SWATtunR.","code":"@Manual{,   title = {SWATtunR: Soft Calibration, Hard Calibration, and Validation for SWAT+ Models},   author = {Svajunas Plunge and Christoph Schuerz and Michael Strauch and Mikołaj Piniewski},   year = {2026},   note = {R package version 0.3.12},   url = {https://biopsichas.github.io/SWATtunR}, }"},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/index.html","id":"swattunr","dir":"","previous_headings":"","what":"SWATtunR","title":"Soft Calibration, Hard Calibration, and Validation for SWAT+ Models","text":"goal SWATtunR help SWAT+ model calibration validation. functions developed tested implementation modeling tasks OPTAIN project, Nordbalt-Ecosafe LIFE SIP Vanduo. Functions initially developed Christoph Schuerz, added important capability top R tools designed SWAT/SWAT+ models. Therefore, highly recommend trying using tools: SWATbuildR - R tool building SWAT+ setups; SWATprepR - SWAT+ model input data preparation helper. package presented article Plunge, Szabó, et al. (2024); SWATfarmR - R tool preparing management schedules SWAT model; SWATdoctR - collection functions R routines SWAT model calibration model diagnostics. package presented article Plunge, Schürz, et al. (2024); SWATrunR - R tool running SWAT models different parameters scenarios. Please install branch names remove_legacy. done using line like remotes::install_github(\"chrisschuerz/SWATrunR@remove_legacy\") SWATmeasR - R tool implementing Natural/Small Water Retention Measures (NSWRMs) SWAT+ models running scenarios. Additionally, recommend checking following packages, can used build scripted workflows SWAT+: SWATreadR - Read write SWAT+ input output files. SWATdata - SWAT project datasets SWATrunR SWATfarmR.  Detailed information packages, workflow steps, input data, SWAT+ parameters, model calibration, validation, etc., found SWAT+ modeling protocol Christoph et al. (2022).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Soft Calibration, Hard Calibration, and Validation for SWAT+ Models","text":"can install development version SWATtunR GitHub.  work carried within OPTAIN project (Optimal strategies retain re-use water nutrients small agricultural catchments across different soil-climatic regions Europe, cordis.europa.eu), received funding European Union’s Horizon 2020 research innovation programme grant agreement . 862756. also supported NORDBALT-ECOSAFE project, funded European Union’s Horizon Europe research innovation programme grant agreement . 101060020. LIFE22-IPE-LT-LIFE-SIP-Vanduo project (Integrated water management Lithuania, reference: LIFE22-IPE-LT-LIFE-SIP Vanduo / 101104645, cinea.ec.europa.eu), funded European Union LIFE Programme grant agreement . 101104645.","code":"# If the package 'remotes' is not installed run first: install.packages(\"remotes\")  # The installation of `SWATprepR`. remotes::install_github(\"biopsichas/SWATtunR\")"},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_kill_op.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace hvkl operations with harv + kill — add_kill_op","title":"Replace hvkl operations with harv + kill — add_kill_op","text":"Replace hvkl operations harv + kill","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_kill_op.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace hvkl operations with harv + kill — add_kill_op","text":"","code":"add_kill_op(project_path)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_kill_op.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace hvkl operations with harv + kill — add_kill_op","text":"project_path Character string, path SWAT+ project folder (.e. TxtInOut).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_kill_op.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace hvkl operations with harv + kill — add_kill_op","text":"updated management.sch file","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_kill_op.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace hvkl operations with harv + kill — add_kill_op","text":"","code":"if (FALSE) { # \\dontrun{ add_kill_op('path_to_your_model') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_obj.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the unit values for which objects the parameter change should be applied — add_obj","title":"Add the unit values for which objects the parameter change should be applied — add_obj","text":"Add unit values objects parameter change applied","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_obj.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the unit values for which objects the parameter change should be applied — add_obj","text":"","code":"add_obj(par_cal, unit, unit_all)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_obj.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the unit values for which objects the parameter change should be applied — add_obj","text":"par_cal calibration.cal tibble parameter unit Character string defines condition object units (ids e.g. hru objects) unit_all List vectors define unit ids object types.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_slope.html","id":null,"dir":"Reference","previous_headings":"","what":"Add condition lines based on slope — add_slope","title":"Add condition lines based on slope — add_slope","text":"Add condition lines based slope","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_slope.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add condition lines based on slope — add_slope","text":"","code":"add_slope(cond, cond_tbl)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_slope.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add condition lines based on slope — add_slope","text":"cond Character string defines condition variable 'var' cond_tbl Tibble conditions defined based soil land use","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_suffix_to_duplicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a running ID to duplicated names — add_suffix_to_duplicate","title":"Add a running ID to duplicated names — add_suffix_to_duplicate","text":"Add running ID duplicated names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_suffix_to_duplicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a running ID to duplicated names — add_suffix_to_duplicate","text":"","code":"add_suffix_to_duplicate(col_name)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_suffix_to_duplicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a running ID to duplicated names — add_suffix_to_duplicate","text":"col_name Character vector column names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_suffix_to_duplicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a running ID to duplicated names — add_suffix_to_duplicate","text":"col_name character vector IDs duplicated names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_timestamp.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a time stamp to the save name — add_timestamp","title":"Add a time stamp to the save name — add_timestamp","text":"Add time stamp save name","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_timestamp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a time stamp to the save name — add_timestamp","text":"","code":"add_timestamp(save_name)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_timestamp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a time stamp to the save name — add_timestamp","text":"save_name Name saved simulation run","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_timestamp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a time stamp to the save name — add_timestamp","text":"name simulation run added time stamp","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_value_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Add the value range 'val' for the condition variable 'var' for a parameter to calibration.cal — add_value_range","title":"Add the value range 'val' for the condition variable 'var' for a parameter to calibration.cal — add_value_range","text":"Add value range 'val' condition variable 'var' parameter calibration.cal","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_value_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add the value range 'val' for the condition variable 'var' for a parameter to calibration.cal — add_value_range","text":"","code":"add_value_range(par_cal, val, var)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/add_value_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add the value range 'val' for the condition variable 'var' for a parameter to calibration.cal — add_value_range","text":"par_cal calibration.cal tibble parameter val Vector defines value range var Character string. Name variable","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/aggregate_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate time series table — aggregate_time","title":"Aggregate time series table — aggregate_time","text":"aggregate_time() aggregates tables date column multiple value columns coarser time steps, defined time using function defined fun.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/aggregate_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate time series table — aggregate_time","text":"","code":"aggregate_time(tbl, time = year, fun = sum, average = FALSE)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/aggregate_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate time series table — aggregate_time","text":"tbl data frame contains 'date' column multiple numerical columns. time function vector functions define time intervals tbl aggregated. Must one lubridate functions year, month, day, yday. fun Aggregation function (e.g. sum, mean, min, max). average values averaged aggregation? e.g. time interval defined time = c(year, month), average = TRUE, first aggregate year month average mean monthy values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/aggregate_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate time series table — aggregate_time","text":"tibble aggregated value columns added time interval columns.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/aggregate_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate time series table — aggregate_time","text":"","code":"if (FALSE) { # \\dontrun{ library(tidyverse) library(lubridate)  # Generate dummy table  date <- seq(ymd(19700101), ymd(20101231), by = 'day')  n <- 100  tbl <- map(1:n, ~ runif(length(date))) %>% set_names(id_to_run(1:n)) %>% bind_cols(.)  tbl <- bind_cols(date = date, tbl)  # Calculate maximum values for days of the year aggregate_time(tbl, time = yday, fun = max)  # Calculate mean monthly sums aggregate_time(tbl, time = c(year, month), fun = sum, average = TRUE)  # Calculate average annual sums aggregate_time(tbl, time = year, fun = sum, average = TRUE)  } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_constraint_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Build the parameter constraint from the rules in the parameter names — build_constraint_tbl","title":"Build the parameter constraint from the rules in the parameter names — build_constraint_tbl","text":"Build parameter constraint rules parameter names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_constraint_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build the parameter constraint from the rules in the parameter names — build_constraint_tbl","text":"","code":"build_constraint_tbl(cons_i, bool_op)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_constraint_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build the parameter constraint from the rules in the parameter names — build_constraint_tbl","text":"cons_i Text string defines constraint bool_op Vector strings define different possible boolean operations","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_expression.html","id":null,"dir":"Reference","previous_headings":"","what":"Build filter expressions from the parameter constraint table' — build_expression","title":"Build filter expressions from the parameter constraint table' — build_expression","text":"Build filter expressions parameter constraint table'","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_expression.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build filter expressions from the parameter constraint table' — build_expression","text":"","code":"build_expression(constraints)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_expression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build filter expressions from the parameter constraint table' — build_expression","text":"constraints Constraint table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_unit_string.html","id":null,"dir":"Reference","previous_headings":"","what":"Build the text string with the 'unit' definition to be added to a parameter name — build_unit_string","title":"Build the text string with the 'unit' definition to be added to a parameter name — build_unit_string","text":"Build text string 'unit' definition added parameter name","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_unit_string.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build the text string with the 'unit' definition to be added to a parameter name — build_unit_string","text":"","code":"build_unit_string(vals)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_unit_string.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build the text string with the 'unit' definition to be added to a parameter name — build_unit_string","text":"vals Vector unit IDs","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/build_unit_string.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build the text string with the 'unit' definition to be added to a parameter name — build_unit_string","text":"text string unit definition.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Flow Duration Curve (FDC) — calc_fdc","title":"Calculate Flow Duration Curve (FDC) — calc_fdc","text":"function calculates flow duration curve given vector dataframe.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Flow Duration Curve (FDC) — calc_fdc","text":"","code":"calc_fdc(x)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Flow Duration Curve (FDC) — calc_fdc","text":"x vector tibble flow values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Flow Duration Curve (FDC) — calc_fdc","text":"tibble sorted values corresponding exceedance probabilities.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Flow Duration Curve (FDC) — calc_fdc","text":"","code":"if (FALSE) { # \\dontrun{ fdc <- calc_fdc(c(3, 1, 4, 1, 5, 9, 2, 6, 5)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_i.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Flow Duration Curve (FDC) for list element i — calc_fdc_i","title":"Calculate Flow Duration Curve (FDC) for list element i — calc_fdc_i","text":"Calculate flow duration curve given vector dataframe.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_i.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Flow Duration Curve (FDC) for list element i — calc_fdc_i","text":"","code":"calc_fdc_i(x)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_i.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Flow Duration Curve (FDC) for list element i — calc_fdc_i","text":"x vector tibble flow values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_i.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Flow Duration Curve (FDC) for list element i — calc_fdc_i","text":"tibble sorted values corresponding exceedance probabilities.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_rsr.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","title":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","text":"function calculates ratio RMSE standard deviation different segments flow duration curve (FDC).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_rsr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","text":"","code":"calc_fdc_rsr(fdc_sim, fdc_obs, quantile_splits, out_tbl = \"long\")"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_rsr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","text":"fdc_sim tibble simulated flow data. fdc_obs tibble observed flow data. quantile_splits numeric vector quantiles splitting FDC. out_tbl character specifying output format ('long' 'wide'). Default out_tbl = 'long'.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_rsr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","text":"tibble RSR values different segments FDC.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_fdc_rsr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate RSR for Flow Duration Curve Segments — calc_fdc_rsr","text":"","code":"if (FALSE) { # \\dontrun{ fdc_sim <- calc_fdc(runif(100)) fdc_obs <- calc_fdc(runif(100)) rsr_values <- calc_fdc_rsr(fdc_sim, fdc_obs, c(5, 20, 70, 95)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a goodness-of-fit table — calc_gof","title":"Calculate a goodness-of-fit table — calc_gof","text":"calc_gof() calculates goodness--fit inices simulated time series sim observations obs applying functions passed list funs.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a goodness-of-fit table — calc_gof","text":"","code":"calc_gof(sim, obs, funs)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a goodness-of-fit table — calc_gof","text":"sim Data frame one date column one many columns values simulated variable. obs Data frame one date one value column. funs list functions used calculate goodness--fit (GoF) values. can named unnamed list. named (e.g., list(nse_q = NSE, pb_q = pbias)), names used column names returned results. unnamed, function names used column names. Commonly used functions (NSE, pbias, KGE, etc.) available documentation hydroGOF package.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a goodness-of-fit table — calc_gof","text":"table calculated goodness--fit values.","code":""},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate a goodness-of-fit table — calc_gof","text":"","code":"if (FALSE) { # \\dontrun{ date_flow <- seq(as.Date('2000-01-01'), as.Date('2000-12-31'), by = 'day')  flow_sim <- data.frame(date = date_flow,                        run_1 = runif(length(date_flow)),                        run_2 = runif(length(date_flow))                        ) flow_obs <- data.frame(date = date_flow,                        qobs = runif(length(date_flow))                        )  obj_tbl <- calc_gof(sim = flow_sim, obs = flow_obs, funs = list(cor_q = cor)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof_i.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate goodness-of-fit values for one function — calc_gof_i","title":"Calculate goodness-of-fit values for one function — calc_gof_i","text":"Calculate goodness--fit values one function","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof_i.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate goodness-of-fit values for one function — calc_gof_i","text":"","code":"calc_gof_i(sim, obs, fun)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof_i.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate goodness-of-fit values for one function — calc_gof_i","text":"sim Data frame one many columns values simulated variable. obs Data frame one value column. fun Goodness--fit function","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_gof_i.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate goodness-of-fit values for one function — calc_gof_i","text":"vector goodness--fit values column sim calculated fun","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_segment_diff.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Segment Differences — calc_segment_diff","title":"Calculate Segment Differences — calc_segment_diff","text":"function calculates segment differences given set parameters.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_segment_diff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Segment Differences — calc_segment_diff","text":"","code":"calc_segment_diff(par, obj, obj_thrs)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_segment_diff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Segment Differences — calc_segment_diff","text":"par list data frame parameters segment. obj numeric vector objective values. obj_thrs numeric threshold objective values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_segment_diff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Segment Differences — calc_segment_diff","text":"data frame containing calculated segment differences.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_wyr.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate water yield ratio — calc_wyr","title":"Calculate water yield ratio — calc_wyr","text":"Calculate water yield ratio simulated average annual water balance components. simulation run must provide precip Variable 'basin_wb_aa' output file. surq_cha Variable 'basin_wb_aa' output file. surq_res Variable 'basin_wb_aa' output file. latq_cha Variable 'basin_wb_aa' output file. latq_res Variable 'basin_wb_aa' output file. qtile Variable 'basin_wb_aa' output file. flo Variable ”basin_aqu_aa' output file.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_wyr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate water yield ratio — calc_wyr","text":"","code":"calc_wyr(sim)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_wyr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate water yield ratio — calc_wyr","text":"sim SWATrunR simulation run listed simulated variables.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/calc_wyr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate water yield ratio — calc_wyr","text":"water yield ratio.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_date_col.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and fix position of date column in a table — check_date_col","title":"Check and fix position of date column in a table — check_date_col","text":"Check fix position date column table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_date_col.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and fix position of date column in a table — check_date_col","text":"","code":"check_date_col(tbl)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_date_col.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check and fix position of date column in a table — check_date_col","text":"tbl Data frame date column checked fixed.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_date_col.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check and fix position of date column in a table — check_date_col","text":"tbl date column put first position renamed 'date'","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_point_shape.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a point value shape value if it is a correct value between 0 and 25 — check_point_shape","title":"Check a point value shape value if it is a correct value between 0 and 25 — check_point_shape","text":"Check point value shape value correct value 0 25","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_point_shape.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a point value shape value if it is a correct value between 0 and 25 — check_point_shape","text":"","code":"check_point_shape(shape)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_point_shape.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a point value shape value if it is a correct value between 0 and 25 — check_point_shape","text":"shape Point shape value. correct value must one 0:25. value returns NA","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/check_point_shape.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a point value shape value if it is a correct value between 0 and 25 — check_point_shape","text":"correct point shape value NA.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/conc_to_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert concentration and discharge time series into a load time series. — conc_to_load","title":"Convert concentration and discharge time series into a load time series. — conc_to_load","text":"Calculate time series load values time series concentration discharge.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/conc_to_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert concentration and discharge time series into a load time series. — conc_to_load","text":"","code":"conc_to_load(   conc,   flow,   conc_unit = \"mg L-1\",   flow_unit = \"m3 s-1\",   out_unit = \"kg day-1\" )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/conc_to_load.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert concentration and discharge time series into a load time series. — conc_to_load","text":"conc Data frame date column one many columns concentration values. number concentration columns must number discharge columns data frame flow. flow Data frame date column one many columns discharge values. number flow columns must number concentration columns data frame conc. conc_unit Unit concentration values provided text string format 'mass volume-1. Default 'mg L-1'. flow_unit Unit discharge values provided text string format 'volume time-1. Default 'm3 s-1'. out_unit Unit load values provided text string format 'mass time-1. Default 'kg day-1'.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/conc_to_load.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert concentration and discharge time series into a load time series. — conc_to_load","text":"table date column calculated concentration values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/conc_to_load.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert concentration and discharge time series into a load time series. — conc_to_load","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: date_conc <- seq(as.Date('2000-01-01'), as.Date('2000-12-31'), by = '2 week') date_flow <- seq(as.Date('2000-01-01'), as.Date('2000-12-31'), by = 'day')  c_df <- data.frame(date = date_conc,                    value = runif(length(date_conc)))  f_df <- data.frame(date = date_flow,                    value = runif(length(date_flow)))  load <- conc_to_load(conc = c_df, flow = f_df, out_unit = 'tons day-1') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/copy_file_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Copy a file with an optional version suffix. — copy_file_version","title":"Copy a file with an optional version suffix. — copy_file_version","text":"function copies file one location another, optional version suffix appended filename.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/copy_file_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Copy a file with an optional version suffix. — copy_file_version","text":"","code":"copy_file_version(model_path, file_name, file_version = NULL)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/copy_file_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Copy a file with an optional version suffix. — copy_file_version","text":"model_path path directory containing file. file_name name file copied. file_version optional version suffix appended filename. Default file_version = NULL, adds '.bkp' filename.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/copy_file_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Copy a file with an optional version suffix. — copy_file_version","text":"None","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/cuts_to_rect.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Cuts to Rectangle Coordinates — cuts_to_rect","title":"Convert Cuts to Rectangle Coordinates — cuts_to_rect","text":"function converts cut labels rectangle coordinates.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/cuts_to_rect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Cuts to Rectangle Coordinates — cuts_to_rect","text":"","code":"cuts_to_rect(lbl)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/cuts_to_rect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Cuts to Rectangle Coordinates — cuts_to_rect","text":"lbl character vector cut labels.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/cuts_to_rect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Cuts to Rectangle Coordinates — cuts_to_rect","text":"data frame containing rectangle coordinates.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/dotty_fig.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a dotty plot — dotty_fig","title":"Make a dotty plot — dotty_fig","text":"Make dotty plot","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/dotty_fig.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a dotty plot — dotty_fig","text":"","code":"dotty_fig(sim_yield, yld_obs = NULL)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/dotty_fig.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a dotty plot — dotty_fig","text":"sim_yield dataframe yield data yld_obs (optional) yield values crop columns: plant_name, yield_min, yield_max, yield_mean. Default yld_obs = NULL.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/dotty_fig.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a dotty plot — dotty_fig","text":"ggplot object dotty plot","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/dotty_fig.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a dotty plot — dotty_fig","text":"","code":"if (FALSE) { # \\dontrun{ dotty_fig(sim_yield) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/ensure_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure Directory Exists — ensure_dir","title":"Ensure Directory Exists — ensure_dir","text":"Checks directory exists specified path creates exist. useful make sure folders exist writing files creating subdirectories.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/ensure_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure Directory Exists — ensure_dir","text":"","code":"ensure_dir(path)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/ensure_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure Directory Exists — ensure_dir","text":"path character string specifying path directory.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/ensure_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure Directory Exists — ensure_dir","text":"Invisibly returns directory path character string.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/evaluate_expression.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate the expression defined for a variable in 'output' — evaluate_expression","title":"Evaluate the expression defined for a variable in 'output' — evaluate_expression","text":"Evaluate expression defined variable 'output'","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/evaluate_expression.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate the expression defined for a variable in 'output' — evaluate_expression","text":"","code":"evaluate_expression(table, expr)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/evaluate_expression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate the expression defined for a variable in 'output' — evaluate_expression","text":"table Table dplyr expression applied expr Expression applied table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/failed_runs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify and summarize failed SWAT+ runs — failed_runs","title":"Identify and summarize failed SWAT+ runs — failed_runs","text":"Examines simulation runs complete successfully comparing parameter table rows actually simulated runs. Prints summary information failed parameter combinations.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/failed_runs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify and summarize failed SWAT+ runs — failed_runs","text":"","code":"failed_runs(sim)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/failed_runs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify and summarize failed SWAT+ runs — failed_runs","text":"sim object returned SWATrunR::run_swat() similar (typically list containing parameter$values simulation results)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/failed_runs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify and summarize failed SWAT+ runs — failed_runs","text":"Invisibly returns data.frame containing failed parameter combinations (added row_index column), NULL failed runs detected.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/failed_runs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify and summarize failed SWAT+ runs — failed_runs","text":"","code":"if (FALSE) { # \\dontrun{   failed <- failed_runs(my_swatrunR_result)   # or just call for printing:   failed_runs(my_swatrunR_result) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/filter_period.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter a time period for a variable time series table. — filter_period","title":"Filter a time period for a variable time series table. — filter_period","text":"filter_period() filters rows table one date column, dates time range within time_window.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/filter_period.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter a time period for a variable time series table. — filter_period","text":"","code":"filter_period(tbl, time_window)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/filter_period.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter a time period for a variable time series table. — filter_period","text":"tbl Variable time series table, one column type date columns numeric values time_window Vector length 2 provides start end dates time window filtered. Must format c(2000, 2010), c(20000101, 20101231), e.g. c('2000-01-01', '2010-12-31')","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/filter_period.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter a time period for a variable time series table. — filter_period","text":"table tbl filtered rows based time_window.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/filter_period.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter a time period for a variable time series table. — filter_period","text":"","code":"if (FALSE) { # \\dontrun{ flow_sim <- filter_period(tbl = flow_sim, time_window = c(2010, 2015)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/find_par_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Parameter Range for Simulation — find_par_range","title":"Find Parameter Range for Simulation — find_par_range","text":"function identifies range parameter values produce simulation results within specified relative range target objective value. also returns parameter value minimizes absolute error relative objective.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/find_par_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Parameter Range for Simulation — find_par_range","text":"","code":"find_par_range(par, sim, obj, rel_rng)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/find_par_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Parameter Range for Simulation — find_par_range","text":"par numeric vector parameter values. sim numeric vector simulation results corresponding parameter values. obj numeric value representing objective value compare . rel_rng numeric value specifying relative range acceptable error.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/find_par_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Parameter Range for Simulation — find_par_range","text":"list following components: par_rng numeric vector length 2 containing minimum maximum parameter values within specified relative range objective. par_val numeric value parameter minimizes absolute error relative objective. x numeric vector interpolated parameter values. y numeric vector interpolated simulation results corresponding x.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/find_par_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find Parameter Range for Simulation — find_par_range","text":"","code":"if (FALSE) { # \\dontrun{ find_par_range(sim[[1]], calculate_wyr(sim), 0.27, 0.05) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/format_swatplus_parameter.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate the parameter inputs into a parameter input table and a separarate table providing the file constraints and the filter expressions for the respective parameter — format_swatplus_parameter","title":"Translate the parameter inputs into a parameter input table and a separarate table providing the file constraints and the filter expressions for the respective parameter — format_swatplus_parameter","text":"Translate parameter inputs parameter input table separarate table providing file constraints filter expressions respective parameter","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/format_swatplus_parameter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate the parameter inputs into a parameter input table and a separarate table providing the file constraints and the filter expressions for the respective parameter — format_swatplus_parameter","text":"","code":"format_swatplus_parameter(parameter)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/format_swatplus_parameter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate the parameter inputs into a parameter input table and a separarate table providing the file constraints and the filter expressions for the respective parameter — format_swatplus_parameter","text":"parameter Model parameters named vector tibble","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_sol_texture.html","id":null,"dir":"Reference","previous_headings":"","what":"Acquire the object indices of from the respective object file. — get_sol_texture","title":"Acquire the object indices of from the respective object file. — get_sol_texture","text":"Acquire object indices respective object file.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_sol_texture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Acquire the object indices of from the respective object file. — get_sol_texture","text":"","code":"get_sol_texture(file)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_sol_texture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Acquire the object indices of from the respective object file. — get_sol_texture","text":"file Path object file","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_tbl_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Acquire the object indices of from the respective object file. — get_tbl_column","title":"Acquire the object indices of from the respective object file. — get_tbl_column","text":"Acquire object indices respective object file.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_tbl_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Acquire the object indices of from the respective object file. — get_tbl_column","text":"","code":"get_tbl_column(file, col_i)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_tbl_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Acquire the object indices of from the respective object file. — get_tbl_column","text":"file Path object file","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_value_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the value range from a condition in the par_def table — get_value_range","title":"Get the value range from a condition in the par_def table — get_value_range","text":"Get value range condition par_def table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_value_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the value range from a condition in the par_def table — get_value_range","text":"","code":"get_value_range(condition)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/get_value_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the value range from a condition in the par_def table — get_value_range","text":"condition Character string defines condition","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-.-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate with a dot — %.%","title":"Concatenate with a dot — %.%","text":"\\","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-.-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate with a dot — %.%","text":"","code":"a %.% b"},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-and-and-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate with space — %&&%","title":"Concatenate with space — %&&%","text":"\\","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-and-and-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate with space — %&&%","text":"","code":"a %&&% b"},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-and-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate without separator — %&%","title":"Concatenate without separator — %&%","text":"\\","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-and-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate without separator — %&%","text":"","code":"a %&% b"},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-slash-slash-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"Paste slash function — %//%","title":"Paste slash function — %//%","text":"\\","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-slash-slash-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Paste slash function — %//%","text":"","code":"a %//% b"},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-_-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate with an underscore — %_%","title":"Concatenate with an underscore — %_%","text":"\\","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/grapes-_-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate with an underscore — %_%","text":"","code":"a %_% b"},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_hydr_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Group the values of a parameter in the file hydrology.hyd. — group_hydr_values","title":"Group the values of a parameter in the file hydrology.hyd. — group_hydr_values","text":"useful applying different parameter ranges e.g. parameters perco, cn3_swf, latq_co different initial values based runoff leaching potential.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_hydr_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group the values of a parameter in the file hydrology.hyd. — group_hydr_values","text":"","code":"group_hydr_values(par_name, model_path)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_hydr_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Group the values of a parameter in the file hydrology.hyd. — group_hydr_values","text":"par_name Name parameter values grouped model_path path SWAT+ model project folder contains file hydrology.hyd","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_hydr_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Group the values of a parameter in the file hydrology.hyd. — group_hydr_values","text":"vector unique indices parameter value groups assigned HRU.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_values.html","id":null,"dir":"Reference","previous_headings":"","what":"ID Grouping Functions for Parameter Names — group_values","title":"ID Grouping Functions for Parameter Names — group_values","text":"function groups values parameter names, sorting concatenating numeric sequences handling non-numeric values appropriately.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ID Grouping Functions for Parameter Names — group_values","text":"","code":"group_values(vals, sep = \":\", n_trunc = Inf)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ID Grouping Functions for Parameter Names — group_values","text":"vals vector values grouped. Can numeric character. sep (optional) string separator use ranges numeric values. Default sep = ':'. n_trunc (optional) integer specifying maximum number elements include output. Default sep = Inf, means truncation.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/group_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ID Grouping Functions for Parameter Names — group_values","text":"string grouped values. numeric inputs, ranges collapsed separated specified separator. Non-numeric inputs concatenated ', '. values NA, empty string returned.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/guess_time_step.html","id":null,"dir":"Reference","previous_headings":"","what":"Guess the time step of a vector of values (e.g. years, days,...) — guess_time_step","title":"Guess the time step of a vector of values (e.g. years, days,...) — guess_time_step","text":"Guess time step vector values (e.g. years, days,...)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/guess_time_step.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Guess the time step of a vector of values (e.g. years, days,...) — guess_time_step","text":"","code":"guess_time_step(x)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/guess_time_step.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Guess the time step of a vector of values (e.g. years, days,...) — guess_time_step","text":"x Numeric vector year, month, day values","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/guess_time_step.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Guess the time step of a vector of values (e.g. years, days,...) — guess_time_step","text":"text string indicating guessed time interval","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/identify_sequence.html","id":null,"dir":"Reference","previous_headings":"","what":"Group sequences of units together for writing the OBJ columns in calibration.cal — identify_sequence","title":"Group sequences of units together for writing the OBJ columns in calibration.cal — identify_sequence","text":"Group sequences units together writing OBJ columns calibration.cal","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/identify_sequence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group sequences of units together for writing the OBJ columns in calibration.cal — identify_sequence","text":"","code":"identify_sequence(val)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/identify_sequence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Group sequences of units together for writing the OBJ columns in calibration.cal — identify_sequence","text":"val Numeric vector unit values","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert run ID values to run names — id_to_run","title":"Convert run ID values to run names — id_to_run","text":"Convert run ID values run names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert run ID values to run names — id_to_run","text":"","code":"id_to_run(run_ids, id_max = NULL)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert run ID values to run names — id_to_run","text":"run_ids Integer vector run IDs id_max Largest value run IDs (defines number leading zeros)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_run.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert run ID values to run names — id_to_run","text":"character vector run names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_run.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert run ID values to run names — id_to_run","text":"","code":"if (FALSE) { # \\dontrun{ run_sel <- c(1,36, 598, 2311) id_to_run(run_sel) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_unit.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","title":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","text":"id_to_unit() generates 'unit' condition  SWATrunR parameter definitions ID vector. useful e.g. vector HRU IDs given parameter change change defined units","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_unit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","text":"","code":"id_to_unit(ids)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_unit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","text":"ids Numeric ID vector.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_unit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","text":"Character string unit condition based given IDs.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/id_to_unit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate 'unit' condition for parameter definition from ID vector — id_to_unit","text":"","code":"if (FALSE) { # \\dontrun{ # HRU IDs e.g. same land use hru_ids <- c(1, 3, 4, 5, 28, 37:43, 58)  # E.g. define a change of cn2 cn2_chg <- c('cn2_agri::cn2.hru | change = abschg' = - 5)  # Add unit condition names(cn2_chg) <- paste(names(cn2_chg), id_to_unit(hru_ids)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_hardcal.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize a hard calibration workflow — initialize_hardcal","title":"Initialize a hard calibration workflow — initialize_hardcal","text":"initialize_hardcal() initializes template hard calibration project. template project provides template simulation workflow folder '/workflow'. folders '/observation' '/simulation' generated use simulation workflow. R project initialized loaded new folder structure.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_hardcal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize a hard calibration workflow — initialize_hardcal","text":"","code":"initialize_hardcal(project_name, path, model_path, start_new_session = FALSE)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_hardcal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize a hard calibration workflow — initialize_hardcal","text":"project_name Name hard calibration project. path Path hard calibration project initialized. model_path Path SWAT+ model. start_new_session Open R project new current R session.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_hardcal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize a hard calibration workflow — initialize_hardcal","text":"Opens template R project SWAT+ hard calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_hardcal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize a hard calibration workflow — initialize_hardcal","text":"","code":"if (FALSE) { # \\dontrun{ initialize_hardcal('hardcal_test', '~/', 'Path:/to/txt_inout') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_softcal.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize a soft calibration workflow — initialize_softcal","title":"Initialize a soft calibration workflow — initialize_softcal","text":"initialize_softcal() initializes template soft calibration project. project provides template workflow folder '/workflow'. folders '/observation' '/simulation' generated use simulation workflow. R project initialized loaded new folder structure.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_softcal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize a soft calibration workflow — initialize_softcal","text":"","code":"initialize_softcal(project_name, path, model_path, start_new_session = FALSE)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_softcal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize a soft calibration workflow — initialize_softcal","text":"project_name Name soft calibration project. path Path soft calibration project initialized. model_path Path SWAT+ model. start_new_session Open R project new current R session.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_softcal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize a soft calibration workflow — initialize_softcal","text":"Opens template R project SWAT+ soft calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/initialize_softcal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize a soft calibration workflow — initialize_softcal","text":"","code":"if (FALSE) { # \\dontrun{ initialize_softcal('softcal_test', '~/', 'Path:/to/txt_inout') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/init_cal.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize the calibration.cal table — init_cal","title":"Initialize the calibration.cal table — init_cal","text":"Initialize calibration.cal table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/init_cal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize the calibration.cal table — init_cal","text":"","code":"init_cal(par_def)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/init_cal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize the calibration.cal table — init_cal","text":"par_def Tibble one line includes parameter definition parameter ","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/insert_line_at.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert line into character with multiple lines — insert_line_at","title":"Insert line into character with multiple lines — insert_line_at","text":"Insert line character multiple lines","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/insert_line_at.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert line into character with multiple lines — insert_line_at","text":"","code":"insert_line_at(dat, txt, insert_after)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/insert_line_at.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert line into character with multiple lines — insert_line_at","text":"dat character multiple lines txt character line inserted insert_after numeric line number , insert txt","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/insert_line_at.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert line into character with multiple lines — insert_line_at","text":"character multiple lines inserted new lines","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/load_to_conc.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert load and discharge time series into a concentration time series. — load_to_conc","title":"Convert load and discharge time series into a concentration time series. — load_to_conc","text":"Calculate time series concentration values time series load discharge.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/load_to_conc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert load and discharge time series into a concentration time series. — load_to_conc","text":"","code":"load_to_conc(   load,   flow,   load_unit = \"kg day-1\",   flow_unit = \"m3 s-1\",   out_unit = \"mg L-1\" )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/load_to_conc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert load and discharge time series into a concentration time series. — load_to_conc","text":"load Data frame date column one many columns load values. number load columns must number discharge columns data frame flow. flow Data frame date column one many columns discharge values. number flow columns must number load columns data frame load. load_unit Unit load values provided text string format 'mass time-1. Default 'kg day-1'. flow_unit Unit discharge values provided text string format 'volume time-1. Default 'm3 s-1'. out_unit Unit concentration values provided text string format 'mass volume-1. Default 'mg L-1'.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/load_to_conc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert load and discharge time series into a concentration time series. — load_to_conc","text":"table date column calculated concentration values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/load_to_conc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert load and discharge time series into a concentration time series. — load_to_conc","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: date_load <- seq(as.Date('2000-01-01'), as.Date('2000-12-31'), by = '2 week') date_flow <- seq(as.Date('2000-01-01'), as.Date('2000-12-31'), by = 'day')  l_df <- data.frame(date = date_load,                    value = runif(length(date_load)))  f_df <- data.frame(date = date_flow,                    value = runif(length(date_flow)))  conc <- load_to_conc(load = l_df, flow = f_df, load_unit = 'tons day-1') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/normalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize values in vector between 0 and 1 — normalize","title":"Normalize values in vector between 0 and 1 — normalize","text":"Normalize values vector 0 1","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/normalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize values in vector between 0 and 1 — normalize","text":"","code":"normalize(x)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/normalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize values in vector between 0 and 1 — normalize","text":"x Numeric vector","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/normalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize values in vector between 0 and 1 — normalize","text":"vector normalized values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/paste_runs.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine Start and End Values into a Range String — paste_runs","title":"Combine Start and End Values into a Range String — paste_runs","text":"function creates string representation range combining start end values. start end values , returns single value string. Otherwise, concatenates separator.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/paste_runs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine Start and End Values into a Range String — paste_runs","text":"","code":"paste_runs(strt, end, sep)  paste_runs(strt, end, sep)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/paste_runs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine Start and End Values into a Range String — paste_runs","text":"strt Numeric start value sequence end Numeric end value sequence sep string separator use start end values. Default ':'.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/paste_runs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine Start and End Values into a Range String — paste_runs","text":"string representing range. start end values , single value returned. Otherwise, start end values concatenated specified separator.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_cal_val.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","title":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","text":"Creates comparative boxplots jittered points calibration validation performance metrics. function takes two data frames: one calibration one validation—column run additional performance metric columns. reshapes data, adds identifiers type, produces faceted plots metric.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_cal_val.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","text":"","code":"plot_cal_val(cal_df, val_df)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_cal_val.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","text":"cal_df data frame containing calibration results. Must include run column one performance metric columns. val_df data frame containing validation results. Must include run column one performance metric columns match cal_df.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_cal_val.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","text":"ggplot object showing faceted boxplots jittered values performance metric, comparing calibration vs. validation results.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_cal_val.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Calibration and Validation Performance Indexes in Boxplots — plot_cal_val","text":"","code":"if (FALSE) { # \\dontrun{ cal <- data.frame(run = 1:10, NSE = runif(10), KGE = runif(10)) val <- data.frame(run = 1:10, NSE = runif(10), KGE = runif(10)) plot_cal_val(cal, val) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Dotty — plot_dotty","title":"Plot Dotty — plot_dotty","text":"function creates dotty plot visualize relationship parameter values performance results.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Dotty — plot_dotty","text":"","code":"plot_dotty(   par,   var,   y_label = \"y\",   n_col = 3,   y_lim = NULL,   y_inter = NULL,   trend = FALSE,   run_ids = NULL,   low_up = FALSE )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Dotty — plot_dotty","text":"par data frame model parameter values simulation. var model performance result vector list vectors plotted parameter values. y_label (optional) Labels y-axis, either single label vector corresponding variable var list. Default y_label = 'y'. n_col (optional) Number columns facet grid. Default n_col = 3. y_lim (optional) Limits y-axis. Default y_lim = NULL. y_inter (optional) Y-axis intercept value. Default y_inter = NULL. trend (optional) Logical, indicating whether add trend line. Default trend = FALSE. run_ids (optional) numeric vector run IDs highlighted plot. Default run_ids = NULL. low_up (optional) Logical, TRUE whole possible parameter range used x axis. Default low_up = FALSE.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Dotty — plot_dotty","text":"ggplot object representing dotty plot.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Dotty — plot_dotty","text":"","code":"if (FALSE) { # \\dontrun{ # plot_dotty(my_data, 'performance', y_label = 'y_label') } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty_yields.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Dotty Yields — plot_dotty_yields","title":"Plot Dotty Yields — plot_dotty_yields","text":"function creates dotty plots simulated yields, comparing observed yields (available).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty_yields.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Dotty Yields — plot_dotty_yields","text":"","code":"plot_dotty_yields(sim_result, yield_obs = NULL)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty_yields.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Dotty Yields — plot_dotty_yields","text":"sim_result simulation results containing yield data. yield_obs (optional) Data.frame observed min, max, mean yield values crop. Default yield = NULL.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty_yields.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Dotty Yields — plot_dotty_yields","text":"combined ggplot object showing dottty plots 4 parameters.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_dotty_yields.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Dotty Yields — plot_dotty_yields","text":"","code":"if (FALSE) { # \\dontrun{ plot_phu_yld_bms(ylds_phu_dmat, dmat_chg, yield_mean, yield_min, yield_max) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_esco_epco.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot esco (and epco) to identify appropriate parameter ranges. — plot_esco_epco","title":"Plot esco (and epco) to identify appropriate parameter ranges. — plot_esco_epco","text":"Dependent whether esco (epco) used calibration runs, plot_esco_epco() plots simulatated water yield ratios parameter ranges support manual selection parameter values/ranges.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_esco_epco.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot esco (and epco) to identify appropriate parameter ranges. — plot_esco_epco","text":"","code":"plot_esco_epco(sim, wyr_target, rel_wyr_limit = 0.05, extend_axis = FALSE)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_esco_epco.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot esco (and epco) to identify appropriate parameter ranges. — plot_esco_epco","text":"sim simulation results water balance data. Including: precip Variable 'basin_wb_aa' output file. surq_cha Variable 'basin_wb_aa' output file. surq_res Variable 'basin_wb_aa' output file. latq_cha Variable 'basin_wb_aa' output file. latq_res Variable 'basin_wb_aa' output file. qtile Variable 'basin_wb_aa' output file. flo Variable ”basin_aqu_aa' output file. wyr_target numeric value representing target water yield ratio. rel_wyr_limit numeric value specifying relative range acceptable error. extend_axis Logical, whether extend axis better visualization. Active esco epco used. Default extend_axis = FALSE.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_esco_epco.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot esco (and epco) to identify appropriate parameter ranges. — plot_esco_epco","text":"ggplot object.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_fdc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","title":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","text":"function computes plots Flow Duration Curve (FDC) observed simulated discharge data. multiple simulations provided, shaded band (min–max) median line shown. one simulation provided, single line plotted.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_fdc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","text":"","code":"plot_fdc(   sim,   obs,   run_ids = NULL,   scale_log = TRUE,   x_label = \"Exceedance Probability (%)\",   y_label = \"Discharge (log scale)\",   title = \"Flow Duration Curve: Observed vs Simulated\" )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_fdc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","text":"sim data frame matrix simulated discharge time series. Columns assumed represent different simulation runs, one column named \"date\" date/time information. one simulation provided, plotted single line. obs data frame two columns: \"date\" \"discharge\", \"date\" contains date/time information \"discharge\" contains observed discharge values. run_ids Optional. character, numeric vector character strings specifying simulation run IDs include (e.g., c(\"0001\", \"0002\")). Matching done name, exact character matching recommended. scale_log Logical. TRUE (default), log-10 transformation applied y-axis. x_label Label x-axis. Defaults \"Exceedance Probability (%)\". y_label Label y-axis. Defaults \"Discharge (log scale)\". title Plot title. Defaults \"Flow Duration Curve: Observed vs Simulated\".","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_fdc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","text":"ggplot object showing flow duration curve observed simulated data.","code":""},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_fdc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Flow Duration Curve (FDC) for Observed and Simulated Data — plot_fdc","text":"","code":"if (FALSE) { # \\dontrun{ # Example with simulated and observed time series plot_fdc(sim = sim_data, obs = obs_data, run_ids = c(\"0001\", \"0002\")) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_gof.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot goodness of fit (GOF) tables — plot_gof","title":"Plot goodness of fit (GOF) tables — plot_gof","text":"plot_gof() plots summary boxplots one list GOF tables ggplots.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_gof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot goodness of fit (GOF) tables — plot_gof","text":"","code":"plot_gof(gof_tbls, gofs = NULL, colors = NULL, n_col = 3)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_gof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot goodness of fit (GOF) tables — plot_gof","text":"gof_tbls data.frame containing goodness fit values, list tables. gofs (optional) character vector indicating selected GOFs plot. Default NULL GOFs provided gof_tbls plotted colors (optional) character vector define fill colors boxes. Must length number tables plot. Default NULL default color pallette used. n_col (optional) Number columns plot panels plot. Default n_col = 3","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_gof.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot goodness of fit (GOF) tables — plot_gof","text":"ggplot object boxplots GOF values.","code":""},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_gof.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot goodness of fit (GOF) tables — plot_gof","text":"","code":"if (FALSE) { # \\dontrun{ library(SWATrunR)  # Generate dummy gof table n <- 50 gof_cal <- data.frame(run   = id_to_run(1:n, n),                       nse   = runif(n, 0.4, 0.7),                       pbias = runif(n, -25, 0),                       kge   = runif(n, 0.5, 0.8))  # Plot single glof table plot_gof(gof_cal)  # Plot list of gof tables gof_val <- data.frame(run   = id_to_run(1:n, n),                       nse   = runif(n, 0.2, 0.55),                       pbias = runif(n, -20, 10),                       kge   = runif(n, 0.3, 0.55))  gof_tbls <- list(calibration = gof_cal, validation = gof_val)  plot_gof(gof_tbls) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_oat.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","title":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","text":"function generates interactive dygraph visualize results OAT analysis, comparing simulated data observed data provided.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_oat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","text":"","code":"plot_oat(sim, obs = NULL, variable, round_values = 3)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_oat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","text":"sim Object containing simulation data SWATrunR. obs Optional dataframe observed data columns 'date' 'value'. Default NULL. variable Name variable OAT analysis results plotted. round_values Number decimal places round parameter values. Default 3.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_oat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","text":"dygraph object showing OAT analysis results.","code":""},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_oat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to plot OAT (One-At-A-Time) analysis results — plot_oat","text":"","code":"if (FALSE) { # \\dontrun{ plot_oat(sim_oat, obs = obs_data, variable = 'flo_day', round_values = 2) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_parameter_identifiability.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Parameter Identifiability — plot_parameter_identifiability","title":"Plot Parameter Identifiability — plot_parameter_identifiability","text":"function creates plot visualize identifiability parameters based objective functions.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_parameter_identifiability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Parameter Identifiability — plot_parameter_identifiability","text":"","code":"plot_parameter_identifiability(parameters, objectives, run_fraction = NULL)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_parameter_identifiability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Parameter Identifiability — plot_parameter_identifiability","text":"parameters vector parameter names. objectives list objective functions, represented numeric vector. run_fraction (optional) numeric value representing fraction runs consider threshold calculation. Default run_fraction = NULL, defines parameter according method provided function.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_parameter_identifiability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Parameter Identifiability — plot_parameter_identifiability","text":"ggplot object visualizing identifiability parameters.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_pcp_vs_flow.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","title":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","text":"Creates dual-axis plot comparing precipitation runoff time.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_pcp_vs_flow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","text":"","code":"plot_pcp_vs_flow(   pcp_file,   flow,   x_label = \"Date\",   y_left = \"Runoff (m3/s)\",   y_right = \"Precipitation (mm)\",   title = \"Precipitation and Runoff\" )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_pcp_vs_flow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","text":"pcp_file Character string specifying path precipitation data file. file contain columns: year (integer), yday (integer), pcp (numeric, mm). flow Data frame least two columns: date (Date) discharge (numeric, m³/s). x_label Character string x-axis label. Defaults \"Date\". y_left Character string left y-axis label (runoff). Defaults \"Runoff (m³/s)\". y_right Character string right y-axis label (precipitation). Defaults \"Precipitation (mm)\". title Character string plot title. Defaults \"Precipitation Runoff\".","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_pcp_vs_flow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","text":"ggplot2 object representing dual-axis plot.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_pcp_vs_flow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Precipitation vs. Runoff — plot_pcp_vs_flow","text":"","code":"if (FALSE) { # \\dontrun{ pcp_file_path <- \"path/to/my_station.pcp\" flow_data <- data.frame(date = as.Date(\"2023-01-01\") + 0:364, discharge = runif(365, 0, 100)) plot_pcp_vs_flow(pcp_file_path, flow_data) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_phu_yld_bms.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot PHU, yield, and biomass over days to maturity — plot_phu_yld_bms","title":"Plot PHU, yield, and biomass over days to maturity — plot_phu_yld_bms","text":"function generates boxplots visualize Plant Heat Units (PHU) fractions, yields, biomass changes days maturity.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_phu_yld_bms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot PHU, yield, and biomass over days to maturity — plot_phu_yld_bms","text":"","code":"plot_phu_yld_bms(sim_result, yield_obs = NULL, bar_width = 0.5)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_phu_yld_bms.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot PHU, yield, and biomass over days to maturity — plot_phu_yld_bms","text":"sim_result simulation results containing PHU, yield, biomass data. yield_obs (optional) data frame observed minimum, maximum, mean yield values crop. Default NULL. data provided. provided, data frame contain following columns: plant_name, yield_min, yield_max, yield_mean. bar_width (optional) Value 0 1 controls width box boxplot. Default bar_width = 0.5.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_phu_yld_bms.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot PHU, yield, and biomass over days to maturity — plot_phu_yld_bms","text":"combined ggplot object showing boxplots PHU fractions, yields, biomass.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot time series of simulation results and observations — plot_timeseries","title":"Plot time series of simulation results and observations — plot_timeseries","text":"plot_timeseries() plots time series comparing simulated data observed data.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot time series of simulation results and observations — plot_timeseries","text":"","code":"plot_timeseries(   sim,   obs = NULL,   run_sel = NULL,   run_ids = NULL,   plot_bands = TRUE,   sim_pointshape = 1,   obs_pointshape = 1,   sim_linetype = \"solid\",   obs_linetype = \"dotted\",   run_sel_color = \"#A50F15\",   run_ids_color = NULL,   obs_color = \"black\",   band_color = \"#CB181D\",   band_alpha = 0.2,   run_sel_label = \"Simulation\",   obs_label = \"Observation\",   band_label = \"Simulated range\",   x_label = \"Date\",   y_label = expression(Discharge ~ (m^3 ~ s^{ -1  })),   legend_pos = c(1, 0.99, 0.99),   split_years = NULL,   free_y = FALSE )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot time series of simulation results and observations — plot_timeseries","text":"sim Data frame one date column one many columns values simulated variable. obs (optional) Data frame one date one value column. Default obs = NULL, simulations plotted. run_sel (optional) Integer value name simulation run plotted 'selected' run. Default run_sel = NULL run plotted 'selected' run. case run_ids must selected plotting. run_ids (optional) Integer vector character vector run IDs run names plot. Default run_ids = NULL. case 'seleced' simulation run run_sel plotted. plot_bands = TRUE selected run_ids used calculate plot upper lower boundaries plotted band. plot_bands = FALSE maximum number 10 run_ids can selected plotting. plot_bands (optional) TRUE, upper lower boundary values calculated selected run_ids band plotted . FALSE individual selected runs run_ids plotted. Default plot_bands = TRUE. sim_pointshape (optional) Integer value defining shape points plotted simulated time series run_sel. value must value 0 25. inputs points plotted. Default sim_pointshape = 1. obs_pointshape (optional) Integer value defining shape points plotted observation time series. value must value 0 25. inputs points plotted. Default obs_pointshape = 1. sim_linetype (optional) Type line plotted simulated time series. linetype must one 'blank', 'solid', 'dashed', 'dotted', 'dotdash', 'longdash, 'twodash'. 'blank' line plotted. Default sim_linetype = 'solid'`. obs_linetype Type line plotted observation time series. linetype must one 'blank', 'solid', 'dashed', 'dotted', 'dotdash', 'longdash, 'twodash'. 'blank' line plotted. Default obs_linetype = 'dotted'`. run_sel_color (optional) Color line points plotted simulation time series run_sel. Default run_sel_color = '#A50F15'. run_ids_color (optional) Colors lines plotted simulation time series selected run_ids. colors used plot_bands = FALSE individual timeseries plotted. color vector must length selected runs run_ids. Default run_ids_color = NULL default color pallete used. obs_color (optional) Color line points plotted observation time series. Default obs_color = 'black'. band_color (optional) Color band plotted fur run_ids. color used plot_bands = TRUE. Default band_color = '#CB181D'. band_alpha (optional) Transparency value band plotted fur run_ids. value used plot_bands = TRUE. value must set 0 1. Default band_alpha = 0.2. run_sel_label (optional) Label plotted legend indicate selected simulation run run_sel. Default run_sel_label = 'Simulation'. obs_label (optional) Label plotted legend indicate observation time series. Default run_obs = 'Observation'. band_label (optional) Label plotted legend indicate simulation band run_ids. Default band_label = 'Simulated range'. x_label (optional) x-Axis label. Default x_label = 'Date'. y_label (optional) y-Axis label. Default x_label = expression(Discharge~(m^3~s^{-1})). legend_pos (optional) Position legend inside plot panel. split_years (optional) Integer value used split time series time intervals length split_years plot time periods separate plot panels. advantage plotting long time series. Default split_years = NULL entire time series plotted one plot panel. free_y split_years defined y-Axis can scaled individually plot panels free_y = TRUE. Default free_y = FALSE plot panels y plot range.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/plot_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot time series of simulation results and observations — plot_timeseries","text":"ggplot object plotted time series.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/prepare_plant_parameter.html","id":null,"dir":"Reference","previous_headings":"","what":"Rearrange parameter change tables to SWATrunR format — prepare_plant_parameter","title":"Rearrange parameter change tables to SWATrunR format — prepare_plant_parameter","text":"Rearrange parameter change tables SWATrunR format","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/prepare_plant_parameter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rearrange parameter change tables to SWATrunR format — prepare_plant_parameter","text":"","code":"prepare_plant_parameter(par_tbl)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/prepare_plant_parameter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rearrange parameter change tables to SWATrunR format — prepare_plant_parameter","text":"par_tbl table parameter changes first column 'plant_name' following columns parameters change definitions.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/prepare_plant_parameter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rearrange parameter change tables to SWATrunR format — prepare_plant_parameter","text":"resturctured SWATrunR parameter table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rank_gof.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank lines in a table of goodness-of-fit values. — rank_gof","title":"Rank lines in a table of goodness-of-fit values. — rank_gof","text":"rank_gof() ranks column goodness--fit table either absolute ranks normalized GOF values calculates total rank line.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rank_gof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank lines in a table of goodness-of-fit values. — rank_gof","text":"","code":"rank_gof(gof_tbl, weights = NULL, type = \"rank\")"},{"path":"https://biopsichas.github.io/SWATtunR/reference/rank_gof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank lines in a table of goodness-of-fit values. — rank_gof","text":"gof_tbl Table goodness--fit values, column provides values runs one GOF index weights (optional) weights vector apply different weights goodness--fit indices calculation total rank. type Either 'rank' calculate absolute ranks 'norm' use normalized values indices.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rank_gof.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank lines in a table of goodness-of-fit values. — rank_gof","text":"rank table goodness--fit columns total rank.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a SWAT+ input file which has a tabular structure. — read_tbl","title":"Read a SWAT+ input file which has a tabular structure. — read_tbl","text":"function reads SWAT+ input file tabular structure tibble.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a SWAT+ input file which has a tabular structure. — read_tbl","text":"","code":"read_tbl(file_path, col_names = NULL, n_skip = 1)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a SWAT+ input file which has a tabular structure. — read_tbl","text":"file_path Path SWAT+ input file. col_names (optional) character vector specifying column names. provided, column names inferred file. Default col_names = NULL. n_skip (optional) Number header rows skip. Default n_skip = 1.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a SWAT+ input file which has a tabular structure. — read_tbl","text":"tibble representing SWAT+ input file.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_unit_conditions.html","id":null,"dir":"Reference","previous_headings":"","what":"Read the unit numbers (for hru, aqu, cha, res) and the textures etc for later parameter conditioning. — read_unit_conditions","title":"Read the unit numbers (for hru, aqu, cha, res) and the textures etc for later parameter conditioning. — read_unit_conditions","text":"Read unit numbers (hru, aqu, cha, res) textures etc later parameter conditioning.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_unit_conditions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read the unit numbers (for hru, aqu, cha, res) and the textures etc for later parameter conditioning. — read_unit_conditions","text":"","code":"read_unit_conditions(project_path, parameter)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/read_unit_conditions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read the unit numbers (for hru, aqu, cha, res) and the textures etc for later parameter conditioning. — read_unit_conditions","text":"project_path Path SWAT+ project","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_dummy.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove the generated dummy column that was required for the col bind — remove_dummy","title":"Remove the generated dummy column that was required for the col bind — remove_dummy","text":"Remove generated dummy column required col bind","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_dummy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove the generated dummy column that was required for the col bind — remove_dummy","text":"","code":"remove_dummy(tbl)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_dummy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove the generated dummy column that was required for the col bind — remove_dummy","text":"tbl Tibble","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_unsuccesful_runs.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","title":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","text":"function removes unsuccessful runs simulation parameter set ensure analyses performed parameter combinations corresponding simulation results.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_unsuccesful_runs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","text":"","code":"remove_unsuccesful_runs(sim)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_unsuccesful_runs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","text":"sim SWATrunR nested list containing simulation data. : simulation parameter. simulation: list first element contains results simulation runs. parameter: list element values data frame containing parameter sets used simulation.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_unsuccesful_runs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","text":"modified version input sim list, parameter$values element containing parameter sets simulation results available.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/remove_unsuccesful_runs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove Unsuccessful Runs from Simulation — remove_unsuccesful_runs","text":"","code":"if (FALSE) { # \\dontrun{ sim_flow_full <- remove_unsuccesful_runs(sim_flow_full_bck) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_closest_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace Closest Value in Sequence — replace_closest_value","title":"Replace Closest Value in Sequence — replace_closest_value","text":"Replaces closest value sequence specified value.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_closest_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace Closest Value in Sequence — replace_closest_value","text":"","code":"replace_closest_value(val_seq, x)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_closest_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace Closest Value in Sequence — replace_closest_value","text":"val_seq numeric vector representing sequence values. x numeric value find closest match sequence.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_closest_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace Closest Value in Sequence — replace_closest_value","text":"numeric vector closest value replaced x.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_col_by_sequence.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace Column by Sequence — replace_col_by_sequence","title":"Replace Column by Sequence — replace_col_by_sequence","text":"Replaces specified column table sequence values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_col_by_sequence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace Column by Sequence — replace_col_by_sequence","text":"","code":"replace_col_by_sequence(tbl, val_seq, i)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_col_by_sequence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace Column by Sequence — replace_col_by_sequence","text":"tbl data frame matrix. val_seq numeric vector representing sequence values. integer indicating index column replaced.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/replace_col_by_sequence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace Column by Sequence — replace_col_by_sequence","text":"modified data frame matrix specified column replaced val_seq.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rsr_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate RSR for Dataframe Segments — rsr_df","title":"Calculate RSR for Dataframe Segments — rsr_df","text":"function calculates RSR values different segments data.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rsr_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate RSR for Dataframe Segments — rsr_df","text":"","code":"rsr_df(df_sim, v_obs)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/rsr_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate RSR for Dataframe Segments — rsr_df","text":"df_sim dataframe simulated values. v_obs dataframe observed values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rsr_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate RSR for Dataframe Segments — rsr_df","text":"numeric vector RSR values segment.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/rsr_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate RSR for Dataframe Segments — rsr_df","text":"","code":"if (FALSE) { # \\dontrun{ rsr_values <- rsr_df(df_sim, v_obs) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/run_to_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert run_names to integer ID values — run_to_id","title":"Convert run_names to integer ID values — run_to_id","text":"Convert run_names integer ID values","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/run_to_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert run_names to integer ID values — run_to_id","text":"","code":"run_to_id(run_names)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/run_to_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert run_names to integer ID values — run_to_id","text":"run_names Character vector providing run names","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/run_to_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert run_names to integer ID values — run_to_id","text":"integer vector run IDs","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/run_to_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert run_names to integer ID values — run_to_id","text":"","code":"if (FALSE) { # \\dontrun{ run_sel <- paste0('run_', sprintf('%04d', c(1,36, 598, 2311))) run_to_id(run_sel) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_days_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample days to maturity values — sample_days_mat","title":"Sample days to maturity values — sample_days_mat","text":"sample_days_mat() reads initial days maturity values selected crop_names unchanged plants.plt file (saved ./backup/plants.plt) generates parameter table can used SWATrunR function run_swatplus() perform simulations changed days maturity values selected crops.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_days_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample days to maturity values — sample_days_mat","text":"","code":"sample_days_mat(   crop_names,   change_min = -60,   change_max = 90,   change_step = 10 )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_days_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample days to maturity values — sample_days_mat","text":"crop_names Character vector names selected crops. crops must defined plants.plt backup file saved ./backup/plants.plt change_min Minimum value change days maturity. Default -60. change_max Minimum value change days maturity. Default 90. change_step Minimum value change days maturity. Default 10.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_days_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample days to maturity values — sample_days_mat","text":"parameter input table input argument parameter SWATrunR function run_swatplus().","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_days_mat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample days to maturity values — sample_days_mat","text":"","code":"if (FALSE) { # \\dontrun{ library(SWATtunR)  # Crops for which days to maturity values are sampled crop_names <- c('csil', 'wbar', 'sgbt', 'wwht')  # Generate a days to maturity parameter table par_dmat <- sample_days_mat(crop_names)  par_dmat } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_lhs.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","title":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","text":"function samples parameter space using Latin Hypercube Sampling (LHS).","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_lhs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","text":"","code":"sample_lhs(par, n)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_lhs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","text":"par matrix data frame specifying parameter ranges. n number samples generate.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_lhs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","text":"tibble containing sampled parameter values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_lhs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample parameters with Latin Hypercube Sampling (LHS) — sample_lhs","text":"","code":"# Define parameter ranges parameters <- data.frame(   param1 = c(0, 1),   param2 = c(0, 2),   param3 = c(0, 10) )  # Sample the parameter space sample_space <- sample_lhs(parameters, 3) sample_space #> # A tibble: 3 × 3 #>   param1 param2 param3 #>    <dbl>  <dbl>  <dbl> #> 1  0.532  0.128   3.16 #> 2  0.847  1.03    7.60 #> 3  0.149  1.58    3.43"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_oat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample parameter values one-at-a-time (OAT) — sample_oat","title":"Sample parameter values one-at-a-time (OAT) — sample_oat","text":"Generates set OAT (One---Time) samples based provided parameter centers boundaries.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_oat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample parameter values one-at-a-time (OAT) — sample_oat","text":"","code":"sample_oat(par, par_center = 1, n_t = 10)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_oat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample parameter values one-at-a-time (OAT) — sample_oat","text":"par matrix data frame specifying parameter ranges. element length 2 indicating min max values. par_center (optional) data frame matrix parameter centers. Default par_center = 1. n_t (optional) integer specifying parameter combination around, want OAT analysis. Default n_t = 10.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_oat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample parameter values one-at-a-time (OAT) — sample_oat","text":"data frame containing OAT samples.","code":""},{"path":[]},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_oat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample parameter values one-at-a-time (OAT) — sample_oat","text":"","code":"if (FALSE) { # \\dontrun{ # Define parameter ranges par <- data.frame(\"snomelt_tmp.hru | change = absval\" = c(-1, 1),                  \"snofall_tmp.hru | change = absval\" = c(-1, 1)) par_center <- 2 par_oat <- sample_oat(par, par_center) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_transect_i.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Transect for a Specific Parameter — sample_transect_i","title":"Sample Transect for a Specific Parameter — sample_transect_i","text":"Generates samples along transect specific parameter.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_transect_i.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Transect for a Specific Parameter — sample_transect_i","text":"","code":"sample_transect_i(par_bnd, par_center, par_transect, i_c)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_transect_i.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Transect for a Specific Parameter — sample_transect_i","text":"par_bnd list parameter boundaries. par_center data frame matrix parameter centers. par_transect list parameter transects. i_c integer indicating index current parameter center.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sample_transect_i.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Transect for a Specific Parameter — sample_transect_i","text":"data frame samples along transect specified parameter.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/setup_calibration_cal.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup the calibration.cal file and include all parameter conditions of the simulation and set them according to respective input parameters — setup_calibration_cal","title":"Setup the calibration.cal file and include all parameter conditions of the simulation and set them according to respective input parameters — setup_calibration_cal","text":"Setup calibration.cal file include parameter conditions simulation set according respective input parameters","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/setup_calibration_cal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup the calibration.cal file and include all parameter conditions of the simulation and set them according to respective input parameters — setup_calibration_cal","text":"","code":"setup_calibration_cal(par_def, unit_cons)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/setup_calibration_cal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup the calibration.cal file and include all parameter conditions of the simulation and set them according to respective input parameters — setup_calibration_cal","text":"par_def Tibble one line includes parameter definition parameter unit_cons List tibbles contains meta information hru, aqu, etc. units constrain variables (e.g. texture, plant)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sum_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Sum values of simulated variables — sum_variables","title":"Sum values of simulated variables — sum_variables","text":"sum_variables() sums values provided simulated variable tables. date unit columns excluded. elements summed element wise. useful e.g. calculate total Nitrogen simulated N fractions.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sum_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sum values of simulated variables — sum_variables","text":"","code":"sum_variables(...)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/sum_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sum values of simulated variables — sum_variables","text":"... Variable tables summed .","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sum_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sum values of simulated variables — sum_variables","text":"Returns variable table element wise summed values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/sum_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sum values of simulated variables — sum_variables","text":"","code":"if (FALSE) { # \\dontrun{ no3_sim  <- sim$simulation$no3_day nh3_sim  <- sim$simulation$nh3_day no2_sim  <- sim$simulation$no2_day orgn_sim <- sim$simulation$orgn_day  ntot_sim <- sum_variables(no3_sim, nh3_sim, no2_sim, orgn_sim) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/tidy_constraint.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a set of operations to the rule strings to check and clean the defined operations — tidy_constraint","title":"Apply a set of operations to the rule strings to check and clean the defined operations — tidy_constraint","text":"Apply set operations rule strings check clean defined operations","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/tidy_constraint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a set of operations to the rule strings to check and clean the defined operations — tidy_constraint","text":"","code":"tidy_constraint(chr, bool_op)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/tidy_constraint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a set of operations to the rule strings to check and clean the defined operations — tidy_constraint","text":"chr Text string defines constraint bool_op Vector strings define different possible boolean operations","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_parameter_constraints.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate the parameter inputs and the set constraints into lookup table — translate_parameter_constraints","title":"Translate the parameter inputs and the set constraints into lookup table — translate_parameter_constraints","text":"Translate parameter inputs set constraints lookup table","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_parameter_constraints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate the parameter inputs and the set constraints into lookup table — translate_parameter_constraints","text":"","code":"translate_parameter_constraints(par, swat_vers)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_parameter_constraints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate the parameter inputs and the set constraints into lookup table — translate_parameter_constraints","text":"par Character string vector providing parameters constraints","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_sequence.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate the unit sequences to calibration.cal syntax — translate_sequence","title":"Translate the unit sequences to calibration.cal syntax — translate_sequence","text":"Translate unit sequences calibration.cal syntax","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_sequence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate the unit sequences to calibration.cal syntax — translate_sequence","text":"","code":"translate_sequence(val_seq)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_sequence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate the unit sequences to calibration.cal syntax — translate_sequence","text":"val_seq Numeric vector unit values","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_to_boundaries.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate the normalized sampled values of a parameter to ranges of groups of that parameter (e.g. when perco should have different ranges based on the initial values of perco in all HRUs) — translate_to_boundaries","title":"Translate the normalized sampled values of a parameter to ranges of groups of that parameter (e.g. when perco should have different ranges based on the initial values of perco in all HRUs) — translate_to_boundaries","text":"Translate normalized sampled values parameter ranges groups parameter (e.g. perco different ranges based initial values perco HRUs)","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_to_boundaries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate the normalized sampled values of a parameter to ranges of groups of that parameter (e.g. when perco should have different ranges based on the initial values of perco in all HRUs) — translate_to_boundaries","text":"","code":"translate_to_boundaries(par_tbl, par_name, par_bound, par_group)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_to_boundaries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate the normalized sampled values of a parameter to ranges of groups of that parameter (e.g. when perco should have different ranges based on the initial values of perco in all HRUs) — translate_to_boundaries","text":"par_tbl Table sampled parameter combinations par_name Name parameter translated par_bound List parameter boundaries normalized values transformed . par_group (named) Integer vector defines groups spatial unit belongs .","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/translate_to_boundaries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Translate the normalized sampled values of a parameter to ranges of groups of that parameter (e.g. when perco should have different ranges based on the initial values of perco in all HRUs) — translate_to_boundaries","text":"table parameter samples, normalized parameter replaced several columns updated parameter boundaries correct names assigned, parameter boundaries correctly applied.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/truncate.html","id":null,"dir":"Reference","previous_headings":"","what":"Truncate a Vector with Ellipses — truncate","title":"Truncate a Vector with Ellipses — truncate","text":"function truncates vector adds ellipses (\"...\") indicate omitted values. Truncation can done left sides.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/truncate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Truncate a Vector with Ellipses — truncate","text":"","code":"truncate(x, n, side = \"left\")"},{"path":"https://biopsichas.github.io/SWATtunR/reference/truncate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Truncate a Vector with Ellipses — truncate","text":"x vector truncated. n integer specifying maximum number elements include truncation. side string indicating side truncate. Options 'left' ''. Default 'left'.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/truncate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Truncate a Vector with Ellipses — truncate","text":"string truncated vector. truncation occurs, ellipses (\"...\") added indicate omitted values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Parameters — update_par","title":"Update Parameters — update_par","text":"function updates parameters based different types changes.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Parameters — update_par","text":"","code":"update_par(par, par_up, change)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Parameters — update_par","text":"par Numeric vector: Original parameter values. par_up Numeric vector: Values indicating update parameter. change Character scalar: Type change apply. Options \"relchg\" relative change, \"pctchg\" percentage change, \"abschg\" absolute change, \"absval\" setting absolute value change.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Parameters — update_par","text":"Numeric vector updated parameter values.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_par.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update Parameters — update_par","text":"","code":"par <- c(10, 20, 30, 40) par_up <- c(0.1, 0.2, NA, 0.3) update_par(par, par_up, \"relchg\") # Returns updated parameters with relative change applied. #> [1] 11 24 30 52"},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_plant_par.html","id":null,"dir":"Reference","previous_headings":"","what":"Modify plants.plt parameters — update_plant_par","title":"Modify plants.plt parameters — update_plant_par","text":"Modify plants.plt parameters","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_plant_par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modify plants.plt parameters — update_plant_par","text":"","code":"update_plant_par(thread_path, parameter, is_plant_par, run_index, i_run)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/update_plant_par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modify plants.plt parameters — update_plant_par","text":"thread_path Path parallel thread folder parameter List providing parameter table parameter constraints is_plant_par Logical vector defines plant parameters run_index Vector indices runs performed i_run Index gives number current run simulated respective thread","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/view_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"View interactive time series of simulation results and observations — view_timeseries","title":"View interactive time series of simulation results and observations — view_timeseries","text":"function plots interactive time series comparing simulated data observed data.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/view_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View interactive time series of simulation results and observations — view_timeseries","text":"","code":"view_timeseries(   sim,   obs = NULL,   run_ids = NULL,   run_sel = NULL,   plot_bands = TRUE,   period = NULL,   fn_summarize = \"mean\",   x_label = \"Date\",   y_label = \"Discharge (m<sup>3<\/sup> s<sup>-1<\/sup>)\" )"},{"path":"https://biopsichas.github.io/SWATtunR/reference/view_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"View interactive time series of simulation results and observations — view_timeseries","text":"sim Data frame one date column one many columns values simulated variable. obs (optional) Data frame one date one value column. Default obs = NULL, simulations plotted. run_ids (optional) Integer vector run IDs plot. Default run_ids = NULL requires input run_sel. run_sel (optional) Integer vector run IDs emphasize plot. Default run_sel = NULL requires input run_ids. plot_bands (optional) Logical. TRUE, includes lower upper bands results. Default plot_bands = TRUE. period (optional) Character defining time step aggregation. Options include \"day\", \"week\", \"month\", \"year\", etc. Use \"average monthly\" multi-annual monthly values. Default period = NULL provides aggregation. See lubridate::floor_date details. fn_summarize Function summarize time intervals. Default fn_summarize =\"mean\", examples \"median\", \"sum\". See dplyr::summarise details. x_label (optional) Character x axis label. Default x_label = \"Date\". y_label (optional) Character y axis label. Default y_label = \"Discharge (m³/s)\".","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/view_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"View interactive time series of simulation results and observations — view_timeseries","text":"Interactive plot simulated observed data.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/view_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"View interactive time series of simulation results and observations — view_timeseries","text":"","code":"if (FALSE) { # \\dontrun{ view_timeseries(sim_flow, obs = obs, run_ids = run_sel_ids, run_sel = c(95), plot_bands = TRUE, period = \"average monthly\") } # }"},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_calibration.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the calibration file structure with the parameter set of the current simulation run_i — write_calibration","title":"Update the calibration file structure with the parameter set of the current simulation run_i — write_calibration","text":"Update calibration file structure parameter set current simulation run_i","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_calibration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the calibration file structure with the parameter set of the current simulation run_i — write_calibration","text":"","code":"write_calibration(thread_path, parameter, calibration, run_index, i_run)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_calibration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the calibration file structure with the parameter set of the current simulation run_i — write_calibration","text":"thread_path Path current parallel thread 'thread_i' parameter Model parameters named vector tibble calibration Template table structure calibration file i_run Index i_th simulation run","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a SWAT+ Calibration File — write_cal_file","title":"Write a SWAT+ Calibration File — write_cal_file","text":"function prepares writes calibration.cal file based provided parameter table. multiple run IDs supplied, separate calibration folders files created run.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a SWAT+ Calibration File — write_cal_file","text":"","code":"write_cal_file(par, model_path, write_path = NULL, i_run = 1)"},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a SWAT+ Calibration File — write_cal_file","text":"par data frame containing SWAT+ parameter definitions values. Column names indicate file parameter belongs modified. Examples column naming conventions include: \"esco.hru | change = absval\" — absolute value change \"awc.sol | change = relchg\" — relative change full details parameter definitions conventions, see: https://biopsichas.github.io/SWATtunR/articles/hc-par.html#hc_step2 model_path Path SWAT+ model directory. write_path Optional. Directory calibration file(s) written. NULL (default), files written model_path. i_run integer integer vector specifying run ID(s). Default 1. multiple run IDs supplied (e.g. c(1, 3, 5)), calibration files written : <write_path>/cal_files/cal_1/calibration.cal <write_path>/cal_files/cal_3/calibration.cal <write_path>/cal_files/cal_5/calibration.cal","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write a SWAT+ Calibration File — write_cal_file","text":"Invisibly returns NULL. function writes output files.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Write a SWAT+ Calibration File — write_cal_file","text":"use specific generated calibration file SWAT+ model run, copy model directory update file.cio entry accordingly.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/reference/write_cal_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write a SWAT+ Calibration File — write_cal_file","text":"","code":"if (FALSE) { # \\dontrun{ write_cal_file(my_parameter_table, \"path/to/model\", i_run = 1) write_cal_file(my_parameter_table, \"path/to/model\", i_run = c(1, 3, 5)) } # }"},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-0312","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.12","title":"SWATtunR 0.3.12","text":"Updated plot_esco_epco() include additional option plotting - full parameter range plotting. Added function failed_runs() identify print failed model runs parameters ranges. Minor updates vignettes templates. workflow.R script added example inst/extdata/example replicate results article.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-0311","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.11","title":"SWATtunR 0.3.11","text":"Added plot_cal_val() function visualize calibration validation results. Removed quality assurance vignettes package SWATdoctR package.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-0310","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.10","title":"SWATtunR 0.3.10","text":"Fixed updated write_cal_file() function correctly write single multiple calibration.cal files SWAT+ models. Information updated Git pages website write_cal_file() function.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-039","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.9","title":"SWATtunR 0.3.9","text":"Added add_kill_op() function fix SWAT+ management schedules SWATrunR run_swatplus function. Minor bug fixes improvements.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-038","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.8","title":"SWATtunR 0.3.8","text":"Git pages website fully updated reflect current state package. Vignettes updated improved.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-037","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.7","title":"SWATtunR 0.3.7","text":"New scripts added initialization functions. renamed. Data example setups added package. Bug fixes improvements.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-036","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.6","title":"SWATtunR 0.3.6","text":"plot_pcp_vs_flow() function added. function allows users visualize relationship precipitation flow, providing insights hydrological responses. plot_fdc() function added. function visualizes flow duration curves.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-035","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.3.5","title":"SWATtunR 0.3.5","text":"major remake package, focus improving user experience functionality. Introduced new function initalization functions: initialize_softcal() initialize_hardcal(). Additinal functions added, updated, removed streamline package. Git pages documentation updated reflect changes. package now includes comprehensive set tools SWAT model calibration.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-002","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.0.2","title":"SWATtunR 0.0.2","text":"second release package SWATtunR. first version functions vignettes.","code":""},{"path":"https://biopsichas.github.io/SWATtunR/news/index.html","id":"swattunr-001","dir":"Changelog","previous_headings":"","what":"SWATtunR 0.0.1","title":"SWATtunR 0.0.1","text":"first release package SWATtunR.","code":""}]
