<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Parameter Definition • SWATtunR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parameter Definition">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SWATtunR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/intro.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/init.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Soft calibration</h6></li>
    <li><a class="dropdown-item" href="../articles/sc-phu.html">Crop PHUs</a></li>
    <li><a class="dropdown-item" href="../articles/sc-yield.html">Crop Yields</a></li>
    <li><a class="dropdown-item" href="../articles/sc-wy.html">Water Yield</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Hard calibration</h6></li>
    <li><a class="dropdown-item" href="../articles/hc-par.html">Parameter Definition</a></li>
    <li><a class="dropdown-item" href="../articles/hc-out.html">Output Definition</a></li>
    <li><a class="dropdown-item" href="../articles/hc-run.html">Performing Runs</a></li>
    <li><a class="dropdown-item" href="../articles/hc-analyze.html">Analyzing Results</a></li>
    <li><a class="dropdown-item" href="../articles/hc-val.html">Validation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Quality Assurance</h6></li>
    <li><a class="dropdown-item" href="../articles/qa.html">Preparation</a></li>
    <li><a class="dropdown-item" href="../articles/qa-st1.html">Step 1: Input</a></li>
    <li><a class="dropdown-item" href="../articles/qa-st2.html">Step 2: Management</a></li>
    <li><a class="dropdown-item" href="../articles/qa-st3.html">Step 3: Growth</a></li>
    <li><a class="dropdown-item" href="../articles/qa-st4.html">Step 4: Stress</a></li>
    <li><a class="dropdown-item" href="../articles/qa-st5.html">Step 5: Other</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/biopsichas/SWATtunR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Parameter Definition</h1>
            <h3 data-toc-skip class="subtitle">Defining the parameter
set used for hard calibration</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/biopsichas/SWATtunR/blob/HEAD/vignettes/hc-par.Rmd" class="external-link"><code>vignettes/hc-par.Rmd</code></a></small>
      <div class="d-none name"><code>hc-par.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <strong>SWATrunR</strong> package provides a framework and a set
of tools for the hard calibration of SWAT models. At its core is a
workflow generated by the <code><a href="../reference/initialize_hardcal.html">initialize_hardcal()</a></code> function.
This function creates four R scripts in a folder named
<code>workflow</code>, dividing the process into five distinct steps to
facilitate calibration and avoid a lengthy and cumbersome script.</p>
<ul>
<li>
<strong>01_define_parameters.R</strong> – defines the parameters to
be calibrated.</li>
<li>
<strong>02_define_output.R</strong> – specifies the model outputs to
be saved (or calibrated).</li>
<li>
<strong>03_run_swat.R</strong> – performs the SWAT model
simulations.</li>
<li>
<strong>04_analyze_results.R</strong> – analyzes the simulation
results and compares them to observations.</li>
<li>
<strong>05_validate.R</strong> - validates the calibrated model with
an independent dataset.</li>
</ul>
<p>The workflow is fully customizable to suit specific calibration
needs. Each script contains all necessary guidance in the form of code
comments. This web page provides an overview of the workflow and its
individual steps.</p>
</div>
<div class="section level2">
<h2 id="workflow-steps">Workflow Steps<a class="anchor" aria-label="anchor" href="#workflow-steps"></a>
</h2>
<p>Full workflow would be divided into 11 steps. The 1-2 steps in the
<strong>01_define_parameters.R</strong>, 3 -
<strong>02_define_output.R</strong>, 4 - <strong>03_run_swat.R</strong>
and the rest in <strong>04_analyze_results.R</strong>. The
<strong>05_validate.R</strong> script provides a simple example of
validation with 3 additional steps. The first two steps are described in
this page, the rest in the next pages. This page corresponds to the
<code>01_define_parameters.R</code> script.</p>
<p><img src="figs/fig13.png" width="95%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="load-packages-and-settings">1. Load packages and settings<a class="anchor" aria-label="anchor" href="#load-packages-and-settings"></a>
</h2>
<p>Loading the required packages and settings is the first step in the
workflow.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load required R packages ------------------------------------------------</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://biopsichas.github.io/SWATtunR">SWATtunR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chrisschuerz/SWATrunR" class="external-link">SWATrunR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hzambran/hydroGOF" class="external-link">hydroGOF</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bertcarnell/lhs" class="external-link">lhs</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Parameter definition ----------------------------------------------------</span></span>
<span><span class="co"># Number parameter combinations</span></span>
<span><span class="va">n_combinations</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span></span>
<span><span class="co"># Path to the SWAT+ project folder.</span></span>
<span><span class="va">model_path</span> <span class="op">&lt;-</span> <span class="st">'test/swatplus_rev60_demo'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="hc_step2">2. Define parameters<a class="anchor" aria-label="anchor" href="#hc_step2"></a>
</h2>
<p>The following section provides a suggested list and range of SWAT+
parameters for calibrating different output variables. Parameters are
roughly grouped according to the processes they most strongly influence.
Some of these parameter groups are optional and may be included or
excluded depending on the specific objectives of the calibration.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parameter_boundaries</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  <span class="co"># snow (optional - use if average snow fall to precipitation ratio is</span></span>
<span>  <span class="co"># higher than 5%)</span></span>
<span>  <span class="st">'snomelt_tmp.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  <span class="st">'snofall_tmp.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  <span class="st">'snomelt_lag.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">'snomelt_min.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3.5</span><span class="op">)</span>,</span>
<span>  <span class="st">'snomelt_max.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span>  <span class="co"># ET (note: it is suggested that a narrow range for esco selected in soft</span></span>
<span>  <span class="co"># calibration of water balance is used instead of the wide (0,1) range)</span></span>
<span>  <span class="st">'esco.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">'epco.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">'awc.sol | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.25</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  <span class="co">#surface runoff</span></span>
<span>  <span class="st">'cn2.hru | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.15</span>, <span class="fl">0.10</span><span class="op">)</span>,</span>
<span>  <span class="st">'cn3_swf.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="co"># Normalized range. Will be updated below</span></span>
<span>  <span class="st">'ovn.hru | change  = relchg '</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.25</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  <span class="st">'surlag.bsn | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  <span class="co"># lateral flow (optional - use if lateral flow constitutes at least 5% of</span></span>
<span>  <span class="co"># total water yield)</span></span>
<span>  <span class="st">'lat_len.hru | change = abschg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">20</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span>  <span class="st">'latq_co.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="co"># Normalized range. Will be updated below</span></span>
<span>  <span class="st">'bd.sol | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.35</span>, <span class="fl">0.35</span><span class="op">)</span>,</span>
<span>  <span class="st">'k.sol | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="co"># tile flow (optional - use if tile flow constitutes at least 5% of total</span></span>
<span>  <span class="co"># water yield; note: tile_lag and tile_dtime should be active only if</span></span>
<span>  <span class="co"># tile_drain is set to 0 in codes.bsn file))</span></span>
<span>  <span class="st">'tile_dep.hru | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  <span class="st">'tile_lag.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  <span class="st">'tile_dtime.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  <span class="co"># percolation/aquifer</span></span>
<span>  <span class="st">'perco.hru | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="co"># Normalized range. Will be updated below</span></span>
<span>  <span class="st">'flo_min.aqu | change = abschg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="st">'revap_co.aqu | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  <span class="st">'revap_min.aqu | change = abschg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="st">'alpha.aqu | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  <span class="st">'sp_yld.aqu | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  <span class="st">'bf_max.aqu | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="co"># channel routing</span></span>
<span>  <span class="st">'chn.rte | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  <span class="st">'chs.rte | change = relchg'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.2</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  <span class="co"># sediment routing</span></span>
<span>  <span class="st">'cov.rte | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">'bedldcoef.rte | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">'cherod.rte | change = absval'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># nitrogen parameters from here</span></span>
<span>  <span class="st">"n_updis.bsn | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">80</span><span class="op">)</span>,</span>
<span>  <span class="st">"nperco.bsn | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="st">"sdnco.bsn | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.75</span>, <span class="fl">0.9</span><span class="op">)</span>,</span>
<span>  <span class="st">"hlife_n.aqu | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">200</span><span class="op">)</span>,</span>
<span>  <span class="st">"no3_init.aqu | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="st">"cmn.bsn | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.0013</span><span class="op">)</span>,</span>
<span>  <span class="st">"rsdco.bsn | change = absval"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample parameter combinations -------------------------------------------</span></span>
<span><span class="va">parameter_set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sample_lhs.html">sample_lhs</a></span><span class="op">(</span><span class="va">parameter_boundaries</span>, <span class="va">n_combinations</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="appling-different-ranges-to-cn3_swf-latq_co-and-perco">Appling different ranges to <code>cn3_swf</code>,
<code>latq_co</code>, and <code>perco</code><a class="anchor" aria-label="anchor" href="#appling-different-ranges-to-cn3_swf-latq_co-and-perco"></a>
</h3>
<p>This step is optional and should be removed if you do not wish to
apply different parameter ranges based on the initial values of the
parameters <code>cn3_swf</code>, <code>latq_co</code>, and
<code>perco</code>. By default, the SWAT+ model assigns different
initial values to these parameters during setup, based on the runoff and
leaching potentials of the respective HRUs. To preserve this spatial
variability, it is recommended to calibrate these parameters using
different ranges that correspond to their initial values.</p>
<p>The following routine ensures this by generating multiple parameter
columns from a single sampled column. Note that the parameter must have
been sampled earlier within the range of 0 to 1, so it can now be
translated into different sub-ranges. These sub-ranges can also be
narrowed further as part of the calibration process.</p>
<p>In this step, the HRUs of the SWAT+ model setup are separated into
groups based on their initial values of <code>perco</code>,
<code>cn3_swf</code>, and <code>latq_co</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Separate the HRUs of the SWAT+ model setup into groups based on their initial</span></span>
<span><span class="co"># values of e.g. perco, cn3_swf, and latq_co</span></span>
<span><span class="va">perco_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_hydr_values.html">group_hydr_values</a></span><span class="op">(</span><span class="st">'perco'</span>,   <span class="va">model_path</span><span class="op">)</span></span>
<span><span class="va">cn3_groups</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_hydr_values.html">group_hydr_values</a></span><span class="op">(</span><span class="st">'cn3_swf'</span>, <span class="va">model_path</span><span class="op">)</span></span>
<span><span class="va">latq_groups</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_hydr_values.html">group_hydr_values</a></span><span class="op">(</span><span class="st">'latq_co'</span>, <span class="va">model_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define parameter boundaries in which the parameter values should vary for</span></span>
<span><span class="co"># the different initial values.</span></span>
<span><span class="co"># The list can be a named list, the names defined here will be added to the</span></span>
<span><span class="co"># parameter names for differentiation. If unnamed the indexes _1, _2, and _3</span></span>
<span><span class="co"># will be added to the parameter names instead.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># Only provide the same numbers of ranges as numbers of individual parameters</span></span>
<span><span class="co"># identified in the lines 105 to 107. Otherwise an error will occur in the</span></span>
<span><span class="co"># following routine.</span></span>
<span><span class="va">perco_bound</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.30</span><span class="op">)</span>, mod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.30</span>, <span class="fl">0.60</span><span class="op">)</span>, high <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">cn3_bound</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.00</span>, <span class="fl">0.30</span><span class="op">)</span>, mod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="fl">0.45</span><span class="op">)</span>, high <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">latq_bound</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.30</span><span class="op">)</span>, mod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.10</span>, <span class="fl">0.40</span><span class="op">)</span>, high <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add the additional parameter columns to the parameter table and remove the</span></span>
<span><span class="co"># column with the respective normalized parameter values.</span></span>
<span><span class="va">parameter_set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/translate_to_boundaries.html">translate_to_boundaries</a></span><span class="op">(</span>par_tbl <span class="op">=</span> <span class="va">parameter_set</span>,</span>
<span>                                         par_name <span class="op">=</span> <span class="st">'perco.hru | change = absval'</span>,</span>
<span>                                         par_bound <span class="op">=</span> <span class="va">perco_bound</span>,</span>
<span>                                         par_group <span class="op">=</span> <span class="va">perco_groups</span><span class="op">)</span></span>
<span></span>
<span><span class="va">parameter_set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/translate_to_boundaries.html">translate_to_boundaries</a></span><span class="op">(</span>par_tbl <span class="op">=</span> <span class="va">parameter_set</span>,</span>
<span>                                         par_name <span class="op">=</span> <span class="st">'cn3_swf.hru | change = absval'</span>,</span>
<span>                                         par_bound <span class="op">=</span> <span class="va">cn3_bound</span>,</span>
<span>                                         par_group <span class="op">=</span> <span class="va">cn3_groups</span><span class="op">)</span></span>
<span></span>
<span><span class="va">parameter_set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/translate_to_boundaries.html">translate_to_boundaries</a></span><span class="op">(</span>par_tbl <span class="op">=</span> <span class="va">parameter_set</span>,</span>
<span>                                         par_name <span class="op">=</span> <span class="st">'latq_co.hru | change = absval'</span>,</span>
<span>                                         par_bound <span class="op">=</span> <span class="va">latq_bound</span>,</span>
<span>                                         par_group <span class="op">=</span> <span class="va">latq_groups</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Svajunas Plunge, Christoph Schuerz, Michael Strauch, Mikołaj Piniewski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
